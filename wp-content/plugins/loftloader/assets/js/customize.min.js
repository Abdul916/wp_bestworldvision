;!function(a,l){function i(e){var t=a.get(),e=t[e]||!1;return"string"==typeof e&&(e=e.trim()),!0===(e=e)?"on":e}l("head").append(l("<style>",{id:"loftloader-hide-site-title",text:".site-title { opacity:  0; }"})),a.LoftLoaderSwitchSection=a.Section.extend({initialize:function(){return a.Section.prototype.initialize.apply(this,arguments)},ready:function(){this.container.find("input[name=loftloader-main-switch]").is(":checked")||l("#customize-theme-controls").addClass("loftloader-settings-disabled"),l("#customize-theme-controls").addClass("loftloader-controls-wrapper")},attachEvents:function(){this.container.on("change","input[name=loftloader-main-switch]",function(e){var t=l(this).is(":checked"),o=l("#customize-theme-controls");a("loftloader_main_switch")(t),t?o.removeClass("loftloader-settings-disabled"):o.addClass("loftloader-settings-disabled")})}}),l.extend(a.sectionConstructor,{loftloader_switch:a.LoftLoaderSwitchSection}),a.controlConstructor.slider=a.Control.extend({ready:function(){var e=this.container.find(".loader-ui-slider"),o=this.container.find("input[data-customize-setting-link]");e.slider({range:"min",min:e.data("min"),max:e.data("max"),value:e.data("value"),step:e.data("step"),slide:function(e,t){o.val(t.value).trigger("change")}})}}),a.bind("ready",function(e){loftloader_lite_i18n&&l(".site-title").text(loftloader_lite_i18n.name),l("#loftloader-hide-site-title").remove();var t=document.createElement("a");t.href=a.previewer.previewUrl(),o=a.utils.parseQueryString(t.search.substr(1)),a.previewer.unbind("url").bind("url",function(e){var t=this,o=!1,a=document.createElement("a");a.href=e,a.search=l.param({plugin:"loftloader-lite"}),e=a.href,t.scroll=0,a=function(){o=!0},t.previewUrl.bind(a),t.previewUrl.set(e),t.previewUrl.unbind(a),o||t.refresh()}),o.plugin||(o.plugin="loftloader-lite",t.search=l.param(o),a.previewer.previewUrl.set(t.href));var o=a.get(),t=l("#customize-control-loftloader_custom_img");t.length&&!t.find(".attachment-thumb").length&&o&&o.loftloader_custom_img&&((o=o.loftloader_custom_img)&&(t=t.find(".attachment-media-view").addClass("attachment-media-view-image"),o=l("<div>",{class:"thumbnail thumbnail-image"}).append(l("<img>",{class:"attachment-thumb",src:o})),t.children(".placeholder").css("display","none").after(o).remove())),l("body").on("change","input[type=number]",function(e){var t=parseInt(l(this).val()),o=l(this).attr("min")?parseInt(l(this).attr("min")):1;t<o&&l(this).val(o).trigger("change")}).on("change","input.loftlader-checkbox",function(e){var t=l(this).siblings("input");t.length&&t.attr("data-customize-setting-link")&&a(t.attr("data-customize-setting-link"))(l(this).is(":checked"))}).on("click",".customize-more-toggle",function(e){e.preventDefault();var t=l(this),e=l(this).siblings(".customize-control-description");e.length&&(t.hasClass("expanded")?e.slideUp("slow"):e.slideDown("slow",function(){l(this).css("display","block")}),t.toggleClass("expanded"))}).on("click",".loftloader-any-page-generate",function(e){e.preventDefault();e=a.loftloader_generate_parameters();l(this).siblings(".loftloader-any-page-shortcode").val("[loftloader "+e+"]").select()})}),a.loftloader_generate_parameters=function(){var e={loftloader_bg_color:{},loftloader_bg_opacity:{},loftloader_bg_animation:{},loftloader_loader_type:{sun:["loftloader_loader_color"],circles:["loftloader_loader_color"],wave:["loftloader_loader_color"],square:["loftloader_loader_color"],beating:["loftloader_loader_color"],frame:["loftloader_loader_color","loftloader_custom_img"],imgloading:["loftloader_custom_img","loftloader_img_width"]},loftloader_show_close_timer:{},loftloader_show_close_tip:{},loftloader_max_load_time:{},loftloader_inline_js:{}},t=type_value=loop="";if("on"===i("loftloader_main_switch"))for(var o in t="loftloader_main_switch=on loftloader_show_range=sitewide",e){switch(type_value=i(o),o){case"loftloader_show_close_tip":type_value=type_value?'"'+btoa(unescape(encodeURIComponent(type_value)))+'"':'""';case"loftloader_bg_color":case"loftloader_bg_opacity":case"loftloader_bg_animation":loop=[];break;case"loftloader_max_load_time":type_value=type_value||0;break;default:loop=e[o][type_value]||[]}if(t+=" "+o+"="+type_value,loop)for(var a in loop)t+=" "+loop[a]+"="+i(loop[a])}else t="loftloader_main_switch=false";return t}}(wp.customize,jQuery);
