var va=Object.defineProperty;var Yt=Object.getOwnPropertySymbols;var fa=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable;var Qt=(f,w,d)=>w in f?va(f,w,{enumerable:!0,configurable:!0,writable:!0,value:d}):f[w]=d,at=(f,w)=>{for(var d in w||(w={}))fa.call(w,d)&&Qt(f,d,w[d]);if(Yt)for(var d of Yt(w))ga.call(w,d)&&Qt(f,d,w[d]);return f};import{o as t,c as i,n as R,d as kt,u as it,a,b as e,e as he,w as O,f as me,t as l,_ as ze,g as r,h as J,i as Mt,j as A,k as y,l as ie,F as X,r as ye,m as re,p as x,q as De,s as Ae,v as bt,x as Xt,y as st,z as Ke,I as ya,A as gt,B as se,C as ot,D as Ct,E as Pe,G as ha,H as ba,P as ka,J as Ca,K as $a,L as wa,M as Sa,N as xa,O as Pa,Q as Ia,R as Ea,S as La,T as Da,U as Ta,V as Ye,W as Ft,X as Ba,Y as It,Z as Ot,$ as ft,a0 as Zt,a1 as Fa,a2 as za,a3 as ea,a4 as We,a5 as Qe,a6 as Aa,a7 as Ra,a8 as de,a9 as Ma,aa as Nt,ab as Oa,ac as ta,ad as Na,ae as Va,af as aa,ag as Ua,ah as Wa,ai as zt,aj as $t,ak as ut,al as At,am as Vt,an as yt,ao as wt,ap as Me,aq as St,ar as xt,as as ja,at as Ha,au as qa,av as Ga,aw as Ja,ax as Ya}from"./stepForm.cfa62951.js";const Qa={name:"IconComponent"},Pt=Object.assign(Qa,{props:{icon:{type:String,required:!0}},setup(f){return(w,d)=>(t(),i("span",{class:R(`am-icon-${f.icon}`)},null,2))}});const Xa={class:"am-cat__header-inner"},Za={class:"am-cat__back-btn"},Ka={key:0,class:"am-cat__cart-btn"},ei={class:"am-cat__cart-number"},ti={name:"MainHeader"},Ut=Object.assign(ti,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(f,{emit:w}){const d=f;let h=kt({components:{IconComponent:Pt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=kt({components:{IconComponent:Pt},template:'<IconComponent icon="cart"/>'});function F(){w("goBack")}const u=it();function s(){Mt(u),w("goToCart")}return(p,b)=>(t(),i("div",Xa,[a("div",Za,[e(d).backBtnVisibility?(t(),he(ze,{key:0,prefix:e(h),category:"secondary",type:f.btnType,size:f.btnSize,onClick:F},{default:O(()=>[me(l(e(d).btnString),1)]),_:1},8,["prefix","type","size"])):r("",!0)]),e(d).cartBtnVisibility?(t(),i("div",Ka,[a("span",ei,l(e(d).cartItemsNumber),1),J(ze,{category:"secondary",type:f.btnType,size:f.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):r("",!0)]))}});const ai={class:"am-cat__sidemenu-item__wrapper"},ii=["onClick"],si={key:0,class:"am-cat__sidemenu-footer"},li={class:"am-cat__sidemenu-footer__text"},ni=["href"],oi={name:"SideMenu"},ci=Object.assign(oi,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(f,{emit:w}){const d=f;function h(u){w("click",u)}let C=A("amColors"),F=y(()=>({"--am-c-csm-text-op10":ie(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ie(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ie(C.value.colorSbText,.6),"--am-c-csm-text-op80":ie(C.value.colorSbText,.8)}));return(u,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(F))},[a("div",ai,[(t(!0),i(X,null,ye(f.menuItems,(p,b)=>(t(),i("div",{key:b,class:R(["am-cat__sidemenu-item",{"am-active":e(d).initSelection===p[e(d).identifier]}]),onClick:()=>h(p)},l(p[e(d).nameIdentifier]),11,ii))),128))]),e(d).companyEmail?(t(),i("div",si,[a("span",li,l(e(d).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(d).companyEmail}`},l(e(d).companyEmail),9,ni)])):r("",!0)],4))}});const ri={name:"MainContent"},Wt=Object.assign(ri,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(f,{expose:w}){let d=x(null),h=x(0),C=x(null),F=x(0),u=x(null),s=x(0),p=x(null),b=x(null),L=x(0);window.addEventListener("resize",k);function k(){De(()=>{d.value&&(h.value=d.value.offsetWidth),C.value&&(F.value=C.value.offsetWidth),u.value&&(s.value=u.value.offsetWidth)})}Ae(()=>{De(()=>{if(u.value&&p.value){let U=u.value.offsetHeight-p.value.offsetHeight-2;L.value=U<=656?656:U}k()})}),w({catHeaderWidth:h,catFormWidth:s,catContainerWidth:F});let S=A("amColors"),_=y(()=>({"--am-h-cat-content":`${L.value}px`,"--am-c-scroll-op30":ie(S.value.colorPrimary,.3),"--am-c-scroll-op10":ie(S.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:R(["am-cat__wrapper",f.wrapperClass])},[a("div",{ref_key:"catHeader",ref:d,class:"am-cat__header"},[bt(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[bt(U.$slots,"side"),a("div",{ref_key:"catForm",ref:u,class:R(["am-cat__form",f.formClass]),style:re(e(_))},[a("div",{ref_key:"catHeading",ref:p,class:R(["am-cat__heading",f.headingClass])},[bt(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:b,class:R(["am-cat__content",f.contentClass])},[bt(U.$slots,"content")],2)],6)],512)],2))}}),ui={name:"AmImagePlaceholder"},ct=Object.assign(ui,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(f){const w=f;function d(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${Xt.value[Math.floor(Math.random()*Xt.value.length)]}`}}function h(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(u=>u.charAt(0)).join("").toUpperCase().substring(0,w.trimString).replace(/[^\w\s]/g,"")}return(C,F)=>(t(),i("span",{class:R(e(w).itemClass),style:re(at({},d(e(w).itemData)))},l(h(e(w).itemData)),7))}}),Rt=st(window.wpAmeliaSettings),Kt=st(window.wpAmeliaLabels);function ht(f,w,d,h=null,C=null){let F=[],u=f&&f.service?f.service.split(",").map(s=>parseInt(s)):null;return w&&w.serviceList.forEach(s=>{h?h in d.entitiesRelations&&s.id in d.entitiesRelations[h]&&(C?d.entitiesRelations[h][s.id].find(p=>p===C):!0)&&s.status==="visible"&&s.show&&!F.filter(p=>p===s.id).length&&(!u||u.includes(s.id))&&F.push(s.id):d.employees.forEach(p=>{p.id in d.entitiesRelations&&s.id in d.entitiesRelations[p.id]&&(C?d.entitiesRelations[p.id][s.id].find(b=>b===C):!0)&&s.status==="visible"&&s.show&&!F.filter(b=>b===s.id).length&&(!u||u.includes(s.id))&&F.push(s.id)})}),F}function ia(f,w){let d=[],h=[];f.employees.forEach(u=>{if(u.id in f.entitiesRelations&&w in f.entitiesRelations[u.id]){let s=u.serviceList.find(p=>p.id===w);d.push(s.maxCapacity),h.push(s.minCapacity)}});let C=h.reduce((u,s)=>s<u?s:u,h[0]),F=d.reduce((u,s)=>s>u?s:u,d[0]);return C!==F?`${C}/${F}`:C}function sa(f){let w=Math.floor(f/3600),d=f/60%60;return(w?w+Kt.h+" ":"")+" "+(d?d+Kt.min:"")}function rt(f,w){let d=[];f.employees.forEach(F=>{if(F.id in f.entitiesRelations&&w in f.entitiesRelations[F.id]){let u=F.serviceList.find(s=>s.id===w);d.push(u.price)}});let h=d.reduce((F,u)=>u<F?u:F,d[0]),C=d.reduce((F,u)=>u>F?u:F,d[0]);return h!==C?{price:`${Ke(h,!Rt.payments.hideCurrencySymbolFrontend)} - ${Ke(C,!Rt.payments.hideCurrencySymbolFrontend)}`,min:h,max:C}:{price:Ke(h,Rt.payments.hideCurrencySymbolFrontend),min:h,max:C}}function Fe(f,w){let d=[];return f.employees.forEach(h=>{h.id in f.entitiesRelations&&w in f.entitiesRelations[h.id]&&f.entitiesRelations[h.id][w].length&&f.locations.forEach(C=>{f.entitiesRelations[h.id][w].some(F=>F===C.id)&&!d.find(F=>F===C.id)&&d.push(C)})}),d}function jt(f,w){let d=[],h=Object.keys(f.entitiesRelations);return w.bookable.forEach(C=>{let F=[];h.forEach(u=>{f.entitiesRelations[u][C.service.id]&&!F.find(s=>s?s.id===parseInt(u):!0)&&F.push(f.employees.find(s=>s.id===parseInt(u)))}),F.length||d.push(!1)}),d.filter(C=>C===!1).length}function Ht(f,w,d){let h=[],C=Object.keys(f.entitiesRelations),F=d&&d.employee?d.employee.split(",").map(s=>parseInt(s)):null,u=x(F?f.unfilteredEmployees.filter(s=>F.map(p=>parseInt(p)).includes(s.id)):f.unfilteredEmployees);return w.bookable.forEach(s=>{let p=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach(L=>{u.value.find(k=>k.id===b.id)&&f.entitiesRelations[b.id][s.service.id]&&f.entitiesRelations[b.id][s.service.id].indexOf(L.id)!==-1&&!p.find(k=>k.id===b.id)&&p.push(u.value.find(k=>k.id===b.id))}):u.value.find(L=>L.id===b.id)&&!p.find(L=>L.id===b.id)&&p.push(u.value.find(L=>L.id===b.id))}):C.forEach(b=>{s.locations.length?s.locations.forEach(L=>{f.entitiesRelations[b][s.service.id]&&f.entitiesRelations[b][s.service.id].indexOf(L.id)!==-1&&u.value.find(k=>k.id===parseInt(b))&&!p.find(k=>k.id===parseInt(b))&&p.push(u.value.find(k=>k.id===parseInt(b)))}):f.entitiesRelations[b][s.service.id]&&u.value.find(L=>L.id===parseInt(b))&&!p.find(L=>L.id===parseInt(b))&&p.push(u.value.find(L=>L.id===parseInt(b)))}),h.push(!!p.length)}),!h.filter(s=>s===!1).length}function la(f,w,d){let h=[],C=Object.keys(f.entitiesRelations),F=d&&d.employee?d.employee.split(",").map(s=>parseInt(s)):null,u=x(F?f.unfilteredEmployees.filter(s=>F.map(p=>parseInt(p)).includes(s.id)):f.unfilteredEmployees);return w.bookable.forEach(s=>{s.providers.length?s.providers.forEach(p=>{s.locations.length?s.locations.forEach(b=>{u.value.find(L=>L.id===p.id)&&f.entitiesRelations[p.id][s.service.id].indexOf(b.id)!==-1&&!h.find(L=>L.id===p.id)&&h.push(u.value.find(L=>L.id===p.id))}):u.value.find(b=>b.id===p.id)&&!h.find(b=>b.id===p.id)&&h.push(u.value.find(b=>b.id===p.id))}):C.forEach(p=>{s.locations.length?s.locations.forEach(b=>{f.entitiesRelations[p][s.service.id]&&f.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&u.value.find(L=>L.id===parseInt(p))&&!h.find(L=>L.id===parseInt(p))&&h.push(u.value.find(L=>L.id===parseInt(p)))}):f.entitiesRelations[p][s.service.id]&&u.value.find(b=>b.id===parseInt(p))&&!h.find(b=>b.id===parseInt(p))&&h.push(u.value.find(b=>b.id===parseInt(p)))})}),h}function nt(f,w,d){let h=[],C=Object.keys(f.entitiesRelations),F=d&&d.location?d.location.split(",").map(s=>parseInt(s)):null,u=x(F?f.unfilteredLocations.filter(s=>F.map(p=>parseInt(p)).includes(s.id)):f.unfilteredLocations);return w.bookable.forEach(s=>{s.locations.length?s.locations.forEach(p=>{u.value.find(b=>b.id===p.id)&&!h.find(b=>b.id===p.id)&&h.push(u.value.find(b=>b.id===p.id))}):C.forEach(p=>{u.value.forEach(b=>{p in f.entitiesRelations&&s.service.id in f.entitiesRelations[p]&&f.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&u.value.find(L=>L.id===b.id)&&!h.find(L=>L.id===parseInt(b.id))&&h.push(u.value.find(L=>L.id===b.id))})})}),h}function di(f,w){let d=[];return f.categories.forEach(h=>{let C=ht(w,h,f);h.packageList=[],f.packages.forEach(F=>{C.forEach(u=>{F.bookable.filter(s=>s.service.id===u).length&&!h.packageList.filter(s=>s===F.id).length&&F.available&&F.status==="visible"&&!jt(f,F)&&Ht(f,F,w)&&h.packageList.push(F.id)})}),h.status==="visible"&&h.serviceList.length&&!!C.length&&(w.show==="packages"?!!h.packageList.length:!0)&&d.push(h)}),d}const mi={class:"am-fcl__item-inner"},pi={class:"am-fcl__item-name"},_i={class:"am-fcl__item-segments"},vi={key:0,class:"am-fcl__item-segments__item"},fi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),gi={class:"am-fcl__item-segments__item-count"},yi={key:1,class:"am-fcl__item-segments__item"},hi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),bi={class:"am-fcl__item-segments__item-count"},ki={class:"am-fcl__item-footer"},Ci=["src"],$i={class:"am-empty__heading"},wi={class:"am-empty__subheading"},Si={class:"am-empty__text"},xi={key:0},Pi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ii={key:1},Ei={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Li={name:"CategoriesList",key:"categoriesList"},Di=Object.assign(Li,{setup(f){const w=A("baseUrls");let d=x(null),h=x(0);window.addEventListener("resize",C);function C(){d.value&&(h.value=d.value.offsetWidth)}Ae(()=>{d.value&&(h.value=d.value.offsetWidth)});let F=y(()=>h.value<=500?"am-w100":h.value<=600?"am-w50":h.value<=768?"am-w33":""),{nextPage:u}=A("changingPageFunctions",{nextPage:()=>{}});const s=A("settings");let p=it(),b=A("amEntities"),L=A("customizedDataForm"),k=y(()=>L.value.categoriesList.options);const S=A("shortcodeData"),_=y(()=>p.getters["entities/getPreselected"]);let U=A("availableCategories"),te=y(()=>{let _e=[];return b.value.categories.forEach(Z=>{let m=ht(S.value,Z,b.value);Z.packageList=[],b.value.packages.forEach(ce=>{m.forEach(be=>{ce.bookable.filter(ue=>ue.service.id===be).length&&!Z.packageList.filter(ue=>ue===ce.id).length&&ce.available&&ce.status==="visible"&&!jt(b.value,ce)&&Ht(b.value,ce,S.value)&&Z.packageList.push(ce.id)})}),Z.status==="visible"&&Z.serviceList.length&&!!m.length&&(_.value.show==="packages"?!!Z.packageList.length:!0)&&_e.push(Z)}),De(()=>{U.value=JSON.parse(JSON.stringify(_e))}),_e}),E=A("categorySelected");function z(_e){E.value=_e,p.commit("booking/setCategoryId",parseInt(_e)),gt(p,{},"SelectCategory","appointment",null,null),u()}let o=y(()=>te.value.length===0);const H=A("labels"),oe=A("localLanguage");let q=y(()=>s.general.usedLanguages.includes(oe.value)),fe=y(()=>{let _e=st(at({},H));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let Z=s.customizedData.cbf.categoriesList.translations;Object.keys(Z).forEach(m=>{Z[m][oe.value]&&q.value?_e[m]=Z[m][oe.value]:Z[m].default&&(_e[m]=Z[m].default)})}return _e}),$e=A("amColors"),N=y(()=>({"--am-c-fcl-card-text-op80":ie($e.value.colorCardText,.8)}));return(_e,Z)=>e(o)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:d,class:"am-empty"},[a("img",{src:e(w).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ci),a("div",$i,l(e(fe).oops),1),a("div",wi,l(e(_).show!=="packages"?e(fe).no_services_employees:e(fe).no_package_services),1),a("div",Si,[e(_).show!=="packages"?(t(),i("span",xi,l(e(fe).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Pi,l(e(fe).add_services_url)+"\xA0 ",1),e(_).show!=="packages"?(t(),i("span",Ii,l(e(fe).and)+"\xA0 ",1)):r("",!0),e(_).show!=="packages"?(t(),i("a",Ei,l(e(fe).add_employees_url),1)):r("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:d,class:"am-fcl",style:re(e(N))},[(t(!0),i(X,null,ye(e(te),m=>(t(),i("div",{key:m.id,class:R(["am-fcl__item",e(F)])},[a("div",mi,[a("div",{class:"am-fcl__item-content",style:re(e(k).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:m.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e(k).cardColor&&e(k).cardColor.visibility?{backgroundColor:e(ie)(m.color,.1)}:{})},[m.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${m.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):r("",!0),a("div",pi,l(m.name),1),a("div",_i,[(!e(_).show||e(_).show==="services")&&e(k).services.visibility?(t(),i("div",vi,[fi,a("span",gi,l(e(ht)(e(S),m,e(b)).length),1)])):r("",!0),(!e(_).show||e(_).show==="packages")&&m.packageList.length&&e(k).packages.visibility?(t(),i("div",yi,[hi,a("span",bi,l(m.packageList.length),1)])):r("",!0)])],4),a("div",ki,[J(ze,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(k).cardButton.buttonType,suffix:e(ya),onClick:ce=>z(m.id)},{default:O(()=>[me(l(e(fe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ti=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Bi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Fi=["href"],zi={class:"am-fs-sb__step-wrapper"},Ai={class:"am-fs-sb__step-inner"},Ri={class:"am-fs-sb__step-icon"},Mi={key:0,class:"am-icon-check"},Oi={key:0},Ni={key:1},Vi={key:1},Ui={key:0,class:"am-fs-sb__step"},Wi={class:"am-fs-sb__step-inner"},ji={class:"am-fs-sb__step-icon"},Hi={key:0,class:"am-icon-check"},qi={key:0,class:"am-fs-sb__support"},Gi=["href"],Ji={key:1,class:"am-icon-phone"},Yi=["href"],Qi={key:1,class:"am-icon-email"},Xi={key:0,class:"am-fs-sb__menu-text"},Zi={key:2,class:"am-no-services"},Ki=["src"],es={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ts={style:{"font-size":"14px"}},as={href:"https://wpamelia.com/employees/",rel:"nofollow"},is={name:"CategoryBooking"},qt=Object.assign(is,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(f,{emit:w}){const d=f;let h=x(null),C=x();se("containerWidth",C);let F=x(!1);window.addEventListener("resize",u);function u(){h.value&&(C.value=h.value.offsetWidth)}Ae(()=>{De(()=>{h.value&&(C.value=h.value.offsetWidth)}),gt(o,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=A("settings"),p=s.customizedData?s.customizedData.sbsNew:ot.sbsNew;p&&se("amCustomize",p);let b=y(()=>{let n={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(n.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(n.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(n.email=p.sidebar.options.companyEmail.visibility),n});const L=x(s.customizedData?s.customizedData.fonts:ot.fonts);se("amFonts",L);let k=x(!1);se("sidebarCollapsed",k);let S=x(""),_=A("bookingDialogWidth");Ct(k,n=>{n?setTimeout(()=>{S.value="am-collapsed",setTimeout(()=>{_.value="592px"},200)},1e3):(S.value="",_.value="760px")}),Ae(()=>{p.sidebar.options.self.visibility||(_.value="520px")});let U=x(null),te=x(0);Ae(()=>{setTimeout(()=>{De(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let E=x(p.sidebar?p.sidebar.options.self.visibility:!0);const z=A("baseUrls"),o=it();let H=y(()=>{let n=o.getters["entities/getOriginalPreselected"],g={category:o.state.booking.appointment.categoryId?[o.state.booking.appointment.categoryId]:[],counter:o.state.entities.preselected.counter,employee:o.state.booking.appointment.providerId?[o.state.booking.appointment.providerId]:[],hasApiCall:o.state.entities.preselected.hasApiCall,location:o.state.booking.appointment.locationId?[o.state.booking.appointment.locationId]:[],service:o.state.booking.appointment.serviceId?[o.state.booking.appointment.serviceId]:[],package:o.state.booking.packageId?[o.state.booking.packageId]:[],show:o.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(n).forEach(I=>{I in g||(g[I]=n[I])}),g});o.commit("entities/setPreselected",H.value);let oe=A("restoreFormData");const q=Pe(ha),fe=Pe(ba),$e=Pe(ka),N=Pe(Ca),_e=Pe($a),Z=Pe(wa),m=Pe(Sa),ce=Pe(xa),be=Pe(Pa),ue=Pe(Ia),ge=Pe(Ea),ee=Pe(La),Be=Pe(Da),Re=Pe(Ta),v=x(Ye(o)?[q,Z,ue,ge,be]:[q,Z,ge,be]);se("stepsArray",v);const j=A("labels"),le=A("localLanguage");let V=y(()=>s.general.usedLanguages.includes(le.value)),Ie=Ft(o),ne=y(()=>{let n=st(at({},j));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(g=>{if(g!=="colors"&&s.customizedData.sbsNew[g].translations){let I=s.customizedData.sbsNew[g].translations;Object.keys(I).forEach(Y=>{I[Y][le.value]&&V.value?n[Y]=I[Y][le.value]:I[Y].default&&(n[Y]=I[Y].default)})}}),n});se("amLabels",ne);let je=y(()=>{let n={};if(s.customizedData){let g=s.customizedData.sbsNew[v.value[$.value].key]?s.customizedData.sbsNew[v.value[$.value].key].translations:null;s.customizedData&&g&&Object.keys(g).forEach(I=>{g[I][le.value]&&V.value?n[I]=g[I][le.value]:g[I].default&&(n[I]=g[I].default)})}return Object.keys(n).length?n:j}),Ee=y(()=>{let n="filled";return s.customizedData&&s.customizedData.sbsNew[v.value[$.value].key]&&(n=s.customizedData.sbsNew[v.value[$.value].key].options.primaryFooterButton.buttonType),n});se("primFooterBtnType",Ee),se("primDescBtnType",Ee);let Q=y(()=>{let n="text";return s.customizedData&&s.customizedData.sbsNew[v.value[$.value].key]&&s.customizedData.sbsNew[v.value[$.value].key].options.secondaryFooterButton&&(n=s.customizedData.sbsNew[v.value[$.value].key].options.secondaryFooterButton.buttonType),n}),G=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),B=y(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ae(n,g){let I="";if(s.customizedData){let Y=s.customizedData.sbsNew[g]?s.customizedData.sbsNew[g].translations:null;s.customizedData&&Y&&Y[n]&&(I===""&&Y[n][le.value]&&V.value?I=Y[n][le.value]:I===""&&Y[n].default&&(I=Y[n].default))}return I||j[n]}let dt=y(()=>Ba(o.getters["entities/getEmployeeServices"](o.getters["booking/getSelection"])));function Oe(){let n=o.getters["entities/getPreselected"];if(n.show==="packages")n.package.length>0&&(v.value.splice(0,1),K.value.splice(0,1),Te()),Ve();else{P();let g=o.getters["entities/filteredEmployees"](o.getters["booking/getSelection"]).length<=1,I=!p.initStep.options.employee.visibility,Y=o.getters["entities/filteredLocations"](o.getters["booking/getSelection"]).length<=1,Le=!p.initStep.options.location.visibility;n.service.length>0&&(n.employee.length>0||g||I)&&(n.location.length>0||Y||Le)&&(dt.value.availability?(v.value.splice(0,1,Re),K.value.splice(0,1)):(v.value.splice(0,1),K.value.splice(0,1)),Ve())}}function xe(n,g,I,Y){n.value.map((qe,Ze)=>g.includes(qe.name)?Ze:null).filter(qe=>qe!==null).reverse().forEach(qe=>{n.value.splice(qe,1)});let Je={value:Y};I.forEach(qe=>{n.value.indexOf(qe)===-1&&(o.getters["entities/getPreselected"].show==="packages"&&o.getters["entities/getPreselected"].package.length>0?n.value.splice(Je.value,0,qe):n.value.splice(Je.value+1,0,qe))})}se("goToPackageStep",{goToPackageStep:et});function et(n){o.commit("booking/setPackageId",n.id),o.commit("booking/setBookableType","package"),o.commit("booking/setMultipleAppointments",It(0,n)),o.commit("booking/setMultipleAppointmentsIndex",0);let g=n.bookable.reduce((Le,Je)=>Le+Je.maximumScheduled,0),I=[],Y=[];v.value[0]!==fe&&I.push("ExtrasStep"),v.value[0]!==Z&&I.push("DateTimeStep"),v.value[0]!==ue&&I.push("CartStep"),g>0?Y=Y.concat([ce,m,$e]):Y.push($e),xe(v,I,Y,$.value),xe(K,I,[],$.value),Ve(),lt()}function Te(){let g=o.state.entities.packages.find(Le=>Le.id===o.getters["booking/getPackageId"]).bookable.reduce((Le,Je)=>Le+Je.maximumScheduled,0),I=[],Y=[];v.value.find(Le=>Le.name==="ExtrasStep")&&I.push("ExtrasStep"),v.value.find(Le=>Le.name==="DateTimeStep")&&I.push("DateTimeStep"),g>0?Y=Y.concat([ce,m,$e]):Y.push($e),xe(v,I,Y,$.value),xe(K,I,[],$.value),Ve(),lt()}function mt(){o.commit("booking/setBookableType","appointment"),o.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),o.commit("booking/setPackageId",null),o.commit("booking/setMultipleAppointmentsIndex",0),ft(o);let n=[];v.value[0]!==Z&&(Ye(o)&&n.push(ue),n.push(Z)),v.value[0]!==fe&&T.value&&T.value.length&&n.push(fe),xe(v,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],n,$.value-1),xe(K,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],$.value),Ve()}se("goToRecurringStep",{goToRecurringStep:pt}),se("removeRecurringStep",{removeRecurringStep:W});function pt(){Ye(o)&&oa();let n=0;for(let g=0;g<v.value.length;g++)if(v.value[g].name==="DateTimeStep"){n=g;break}v.value.splice(n+1,0,N),v.value.splice(n+2,0,_e),Ve(),lt()}function W(){for(let n=v.value.length-1;n>=0;n--)(v.value[n].name==="RecurringStep"||v.value[n].name==="RecurringSummary")&&v.value.splice(n+1,1);Ye(o)&&na($.value),Ve()}let T=y(()=>{let n=o.getters["entities/getService"](o.getters["booking/getServiceId"]);return n?n.extras:[]});function P(){T.value.length&&!v.value.find(n=>n.name==="ExtrasStep")&&(v.value.splice($.value+1,0,fe),Ve()),K.value.find(n=>n.name==="ExtrasStep")&&!Object.keys(T.value).length&&(v.value.splice(1,1),K.value.splice(1,1)),d.showCart||ft(o)}se("initDataChanges",{changeInitStepDataService:P});const $=x(0);se("stepIndex",$);let He=A("stepName",x(""));Ct($,(n,g)=>{n<K.value.length&&(K.value[g].selected=!1,K.value[n].selected=!0),n===K.value.length&&(K.value[g].selected=!1),He.value=v.value[n].name});let Ge=x(!1);se("goBackToPackageBooking",Ge);function Et(){pe(!1),Ce.value||(v.value[$.value].name===$e.name&&mt(),v.value[$.value].name===N.name&&(v.value.splice($.value,2),K.value.splice($.value,2),Ye(o)&&(v.value.splice($.value,0,ue),xe(K,[],[],$.value),Ve())),v.value[$.value].name===ce.name&&(Ge.value=!0),$.value=$.value-1),tt.value=!tt.value}function lt(){Ce.value||(K.value[$.value].finished=!0,$.value=$.value+1)}let _t=y(()=>o.getters["entities/getReady"]),Lt=y(()=>o.getters["booking/getLoading"]),Xe=y(()=>o.getters["booking/getBooked"]),Dt=y(()=>o.getters["booking/getPaymentGateway"]),vt=x(!1),we=x(!1),tt=x(!1);function Tt(){vt.value=!0}function M(){vt.value=!1}function D(){tt.value=!0}function c(){tt.value=!1}function pe(n){we.value=n}function Se(){Xe.value&&(Xe.value.customerCabinetUrl?window.location.href=Xe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:Se});let Ce=x(!1);se("changingStepsFunctions",{nextStep:lt,previousStep:Et,footerButtonClick:Tt,footerButtonReset:M,footerBtnDisabledUpdater:pe,headerButtonPreviousClick:D,headerButtonPreviousReset:c,footerBtnDisabled:we,footerButtonClicked:vt,headerButtonPreviousClicked:tt,navigateInsideStep:Ce});const K=x([]);se("sidebarSteps",K);function Ne(n){K.value[$.value].stepSelectedData.filter(g=>g.reference===n.reference).length?K.value[$.value].stepSelectedData.forEach((g,I,Y)=>{g.reference===n.reference&&n.value&&n.value!==g.value&&(g.value=n.value),g.reference===n.reference&&!n.value&&Y.splice(I,1)}):n.value&&K.value[$.value].stepSelectedData.push(n),K.value[$.value].stepSelectedData.sort((g,I)=>g.position-I.position)}function ve(){v.value.forEach((n,g)=>{if(n.name!=="CongratulationsStep"){let I=n.sidebarData.label,Y={name:n.name,key:n.key,label:ne.value[I],labelKey:I,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===$.value};K.value.splice(g,0,Y)}})}Ot(()=>{ve(),Oe()}),Ae(()=>{switch(o.getters["booking/getBookableType"]){case"appointment":d.showCart||ft(o);break}if(d.showCart&&Zt(v,$),oe.value){v.value.splice(0,v.value.length),K.value.splice(0,K.value.length),$.value=0,oe.value.steps.forEach(g=>{switch(g){case"packageStep":v.value.push(Be);break;case"bringingAnyone":v.value.push(Re);break;case"initStep":v.value.push(q);break;case"packageInfoStep":v.value.push($e);break;case"packageAppointmentsStep":v.value.push(m);break;case"packageAppointmentsListStep":v.value.push(ce);break;case"extrasStep":v.value.push(fe);break;case"dateTimeStep":v.value.push(Z);break;case"recurringStep":v.value.push(N);break;case"recurringSummary":v.value.push(_e);break;case"cartStep":v.value.push(ue);break;case"infoStep":v.value.push(ge);break;case"paymentStep":v.value.push(ee);break;case"congratulations":v.value.push(be);break}let I=oe.value.sidebar.find(Y=>Y.key===g);Ve(),typeof I!="undefined"&&I.data&&I.data.forEach(Y=>{Ne({reference:Y.reference,position:Y.position,value:Y.value})}),$.value++}),o.commit("booking/setLoading",!1);let n=-1;oe.value.result==="success"?n=v.value.length-1:(oe.value.result==="error"||oe.value.result==="canceled")&&(n=v.value.length-2);for(let g=0;g<=n;g++)v.value[g].finished=!0;for(let g=0;g<=n-1;g++)K.value[g].finished=!0,K.value[g].selected=!1;(oe.value.result==="error"||oe.value.result==="canceled")&&(K.value[n].finished=!1,K.value[n].selected=!0),$.value=n}});function Ve(){v.value.forEach((n,g)=>{if(n.name!=="CongratulationsStep"&&!K.value.find(I=>I.labelKey===n.sidebarData.label)){let I=n.sidebarData.label,Y={name:n.name,key:n.key,label:ne.value[I],labelKey:I,icon:n.sidebarData.icon,stepSelectedData:[],finished:!1,selected:g===$.value};K.value.splice(g,0,Y)}})}se("sidebarStepsFunctions",{sidebarDataCollector:Ne}),se("addPaymentsStep",{addPaymentsStep:Gt}),se("removePaymentsStep",{removePaymentsStep:Jt});function Gt(){v.value.splice(v.value.length-1,0,ee),Ve()}function Jt(){let n=["PaymentStep"];xe(v,n,[],$.value),xe(K,n,[],$.value)}function na(n){xe(v,[],[ue],n),xe(K,[],[],n)}function oa(){xe(v,["CartStep"],[],$.value),xe(K,["CartStep"],[],$.value)}function ca(){if(o.getters["entities/getPreselected"].show==="packages"){let g=o.getters["booking/getPackageId"]?[o.getters["entities/getPackage"](o.getters["booking/getPackageId"])]:o.getters["entities/getPackages"];return g.length>0&&g.filter(I=>I.price>0).length===g.length}if(!o.getters["booking/getPackageId"]){let g=o.getters["booking/getServiceId"]?[o.getters["entities/getService"](o.getters["booking/getServiceId"])]:o.getters["entities/getServices"],I=0;for(let Y of g){let Le=o.getters["booking/getEmployeeId"]?o.getters["entities/getEmployee"](o.getters["booking/getEmployeeId"])?[o.getters["entities/getEmployee"](o.getters["booking/getEmployeeId"])]:[]:o.getters["entities/getEmployees"],Je=o.getters["booking/getBookingDuration"];if(Le.filter(Ze=>Ze.serviceList.find(Ue=>Ue.id===Y.id&&(Ue.price>0||Ue.customPricing&&Ue.customPricing.enabled&&(Object.values(Ue.customPricing.durations).length===Object.values(Ue.customPricing.durations).filter(Bt=>Bt.price>0).length||Je&&Ue.customPricing.durations[Je].price>0)))).length===Le.filter(Ze=>Ze.serviceList.find(Ue=>Ue.id===Y.id)).length)I++;else{let Ze=o.getters["booking/getSelectedExtras"].length?o.getters["booking/getSelectedExtras"]:[];Ze.length>0&&Ze.reduce((Ue,Bt)=>Ue+Bt.price,0)>0&&I++}}return g.length>0&&I===g.length}return o.getters["entities/getPackage"](o.getters["booking/getPackageId"]).price>0}let ra=y(()=>Ft(o).length?Fa(o)!==0:ca());za(()=>{let n=Ft(o);!n[0].serviceId&&Object.keys(n[0].services).length===0&&w("emptiedCart"),!oe.value&&!ra.value?Jt():oe.value||v.value.indexOf(ee)===-1&&Gt()},{flush:"post"});function ua(){K.value.forEach(n=>{n.finished=!1,n.selected=!1}),v.value.forEach(n=>{n.finished=!1,n.selected=!1}),$.value=0,aa(o,!0),Ua(o),ft(o),w("addToCart")}function da(){let n=o.getters["booking/getCurrentCartItem"],g=o.getters["booking/getAllMultipleAppointments"];n?(o.commit("booking/setCartItem",n),o.commit("booking/setCartItemIndex",g.length-1),o.commit("booking/setCurrentCartItem",null)):(g.pop(),o.commit("booking/setCartItemIndex",g.length-1),o.commit("booking/setServiceId",g[g.length-1].serviceId),o.commit("booking/setEmployeeId",g[g.length-1].services[g[g.length-1].serviceId].providerId),o.commit("booking/setLocationId",g[g.length-1].services[g[g.length-1].serviceId].locationId)),Zt(v,$)}let ke=y(()=>s.customizedData?s.customizedData.sbsNew.colors:ot.sbsNew.colors);se("amColors",ke);let ma=y(()=>({"--am-c-primary":ke.value.colorPrimary,"--am-c-success":ke.value.colorSuccess,"--am-c-error":ke.value.colorError,"--am-c-warning":ke.value.colorWarning,"--am-c-main-bgr":ke.value.colorMainBgr,"--am-c-main-heading-text":ke.value.colorMainHeadingText,"--am-c-main-text":ke.value.colorMainText,"--am-c-sb-bgr":ke.value.colorSbBgr,"--am-c-sb-text":ke.value.colorSbText,"--am-c-inp-bgr":ke.value.colorInpBgr,"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-inp-text":ke.value.colorInpText,"--am-c-inp-placeholder":ke.value.colorInpPlaceHolder,"--am-c-drop-bgr":ke.value.colorDropBgr,"--am-c-drop-text":ke.value.colorDropText,"--am-c-btn-prim":ke.value.colorBtnPrim,"--am-c-btn-prim-text":ke.value.colorBtnPrimText,"--am-c-btn-sec":ke.value.colorBtnSec,"--am-c-btn-sec-text":ke.value.colorBtnSecText,"--am-c-skeleton-op20":ie(ke.value.colorMainText,.2),"--am-c-skeleton-op60":ie(ke.value.colorMainText,.6),"--am-font-family":L.value.fontFamily,"--am-mw-main":E.value?k.value?"592px":"760px":"520px","--am-brad-main":E.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function pa(){let n=document.head||document.getElementsByTagName("head")[0];n.querySelector("#amCustomFont")&&n.querySelector("#amCustomFont").remove();let g=`@font-face {font-family: '${L.value.fontFamily}'; src: url(${L.value.fontUrl});}`,I=document.createElement("style");n.appendChild(I),I.setAttribute("type","text/css"),I.setAttribute("id","amCustomFont"),I.appendChild(document.createTextNode(g))}L.value.customFontSelected&&pa();let _a=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",_a),Ae(()=>{ea("renderForm",{ameliaContainer:h,containerWidth:C,empty:F,amCustomize:p,amFonts:L,sidebarCollapsed:k,sidebarCollapseItemsClass:S,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:E})}),(n,g)=>(t(),i(X,null,[L.value.customFontSelected?r("",!0):(t(),i(X,{key:0},[Ti,Bi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(z).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Fi)],64)),e(F)?(t(),i("div",Zi,[a("img",{src:e(z).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ki),a("h1",null,l(e(ne).oops),1),a("h3",null,l(e(ne).no_services_employees),1),a("p",null,l(e(ne).add_services_employees),1),a("a",es,l(e(ne).add_services_url)+"\xA0 ",1),a("span",ts,l(e(ne).and)+"\xA0",1),a("a",as,l(e(ne).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:h,class:R(["am-fs__wrapper",{"am-collapsed":e(k)}]),style:re(e(ma))},[e(C)>560&&e(E)?(t(),he(Ma,{key:0,class:R(["am-fs-sb",{"am-collapsed":e(k)}]),style:re({width:e(k)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":O(()=>[a("div",zi,[v.value[$.value]!==e(be)||!e(s).general.addToCalendar||e(Xe)&&e(Xe).data.length===0?(t(!0),i(X,{key:0},ye(K.value,I=>(t(),i("div",{key:I.key,class:"am-fs-sb__step"},[a("div",Ai,[a("div",Ri,[a("span",{class:R(`am-icon-${I.icon}`)},null,2),I.key==="cartStep"&&e(We)(e(o))!==0?(t(),i("span",{key:0,class:R(["am-fs-sb__step-icon__number",e(S)])},l(e(We)(e(o))),3)):r("",!0)]),J(Qe,{name:"fade"},{default:O(()=>[e(k)?r("",!0):(t(),i("p",{key:0,class:R(["am-fs-sb__step-heading",e(S)])},l(I.label),3))]),_:2},1024),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":I.selected},e(S)]])},[J(Qe,{name:"fade"},{default:O(()=>[I.finished?(t(),i("span",Mi)):r("",!0)]),_:2},1024)],2)]),J(Aa,{tag:"span",name:"fade",appear:"",class:R(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":I.key===e(m).key&&I.stepSelectedData.length>3}])},{default:O(()=>[e(k)?r("",!0):(t(!0),i(X,{key:0},ye(I.stepSelectedData,(Y,Le)=>(t(),i("p",{key:Y.position,class:"am-fs-sb__step-selection"},[I.key!==e(m).key||Le<3?(t(),i("span",Oi,l(Y.value),1)):(t(),i("span",Ni,l(e(ne).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Vi,[J(Qe,{name:"fade"},{default:O(()=>[e(k)?r("",!0):(t(),he(Ra,{key:0}))]),_:1}),e(k)?(t(),i("div",Ui,[a("div",Wi,[a("div",ji,[a("span",{class:R(`am-icon-${v.value[$.value].sidebarData.icon}`)},null,2)]),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":v.value[$.value].sidebarData.selected},e(S)]])},[J(Qe,{name:"fade"},{default:O(()=>[v.value[$.value].sidebarData.finished?(t(),i("span",Hi)):r("",!0)]),_:1})],2)])])):r("",!0)]))])]),"support-info":O(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(t(),i("div",qi,[J(Qe,{name:"fade"},{default:O(()=>[!e(k)&&e(b).heading?(t(),i("div",{key:0,class:R(["am-fs-sb__support-heading",e(S)])},l(e(ne).get_in_touch),3)):r("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(k)?(t(),i("span",Ji)):(t(),i(X,{key:0},[me(l(e(s).company.phone),1)],64))],8,Gi)):r("",!0),e(s).company.email&&e(b).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(k)?(t(),i("span",Qi)):(t(),i(X,{key:0},[me(l(e(s).company.email),1)],64))],8,Yi)):r("",!0)])):r("",!0),a("div",{class:R(["am-fs-sb__menu",e(S)]),onClick:g[0]||(g[0]=I=>de(k)?k.value=!e(k):k=!e(k))},[J(Qe,{name:"fade"},{default:O(()=>[e(k)?r("",!0):(t(),i("span",Xi,l(e(ne).collapse_menu),1))]),_:1}),a("span",{class:R(`am-icon-arrow-circle-${e(k)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):r("",!0),J(Va,null,Nt({step:O(()=>[(t(),he(ta(v.value[$.value]),{"global-class":"am-fs__main-content"}))]),footer:O(()=>[J(e(Na),{"second-button-show":v.value[$.value]===e(be)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Ye)(e(o))&&v.value[$.value]===e(ue),"back-to-cart-button-show":e(Ye)(e(o))&&e(Ie).length>1&&v.value[$.value]!==e(ue)&&v.value[$.value]!==e(ge)&&v.value[$.value]!==e(ee)&&v.value[$.value]!==e(be),booked:e(Xe),loading:e(Lt),ready:e(_t),"payment-gateway":e(Dt),"customized-labels":e(je),"primary-footer-button-type":e(Ee),"secondary-footer-button-type":e(Q),"add-to-cart-button-type":e(G),"back-to-cart-button-type":e(B),"back-to-cart-label":ae("cancel","cartStep"),onAddToCart:ua,onBackToCart:da},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[v.value[$.value]!==e(be)?{name:"header",fn:O(()=>[J(Oa,{"sidebar-visible":e(E),ready:e(_t)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const ss={class:"am-fcil__filter-buttons"},ls={class:"am-fcil__filter"},ns={class:"am-fcil__filter-item__btn-wrapper"},os={class:"am-fcil__heading"},cs={key:0,class:"am-fcil__item-badge__wrapper"},rs={class:"am-fcil__item-badge am-package"},us=a("span",{class:"am-icon-shipment"},null,-1),ds={class:"am-fcil__item-heading"},ms={class:"am-fcil__item-name"},ps={key:0,class:"am-fcil__item-cost"},_s={key:0,class:"am-fcil__item-discount"},vs={class:"am-fcil__item-price"},fs={key:1,class:"am-fcil__item-price"},gs={class:"am-fcil__item-info"},ys={key:0,class:"am-fcil__item-info__inner"},hs=a("span",{class:"am-icon-folder"},null,-1),bs={key:1,class:"am-fcil__item-info__inner"},ks=a("span",{class:"am-icon-clock"},null,-1),Cs={key:0},$s={key:1},ws={key:2},Ss={key:2,class:"am-fcil__item-info__inner"},xs=a("span",{class:"am-icon-user"},null,-1),Ps=a("span",null,"1/1",-1),Is=[xs,Ps],Es={key:3,class:"am-fcil__item-info__inner"},Ls=a("span",{class:"am-icon-locations"},null,-1),Ds={key:2,class:"am-fcil__item-services"},Ts={key:0,class:"am-fcil__item-badge__wrapper"},Bs={class:"am-fcil__item-badge am-service"},Fs=a("span",{class:"am-icon-service"},null,-1),zs={class:"am-fcil__item-heading"},As={class:"am-fcil__item-name"},Rs={key:0,class:"am-fcil__item-cost"},Ms={key:0,class:"am-fcil__item-price"},Os={key:1,class:"am-fcil__item-price"},Ns={class:"am-fcil__item-info"},Vs={key:0,class:"am-fcil__item-info__inner"},Us=a("span",{class:"am-icon-folder"},null,-1),Ws={key:1,class:"am-fcil__item-info__inner"},js=a("span",{class:"am-icon-clock"},null,-1),Hs={key:2,class:"am-fcil__item-info__inner"},qs=a("span",{class:"am-icon-user"},null,-1),Gs={key:3,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-locations"},null,-1),Ys={class:"am-fcil-employee__header"},Qs={class:"am-fcil-employee__heading"},Xs={class:"am-fcil-employee__heading-left"},Zs={class:"am-fcil-employee__name"},Ks={key:0,class:"am-fcil-employee__heading-right"},el={class:"am-fcil-employee__price"},tl=["innerHTML"],al={key:1,ref:"ameliaContainer",class:"am-empty"},il=["src"],sl={class:"am-empty__heading"},ll={class:"am-empty__subheading"},nl={class:"am-empty__text"},ol={key:0},cl={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},rl={key:1},ul={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},dl={name:"CategoryItemsList",key:"categoryItemsList"},ml=Object.assign(dl,{setup(f){let w=A("licence"),{nextPage:d,previousPage:h}=A("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=A("baseUrls");let F=x(!1),u=x(!1),s=x("760px");se("bookingDialogWidth",s);function p(){s.value="760px"}let b=x(!1),L=x(),k=A("containerWidth"),S=A("customizedDataForm"),_=y(()=>S.value.categoryItemsList.options),U=y(()=>"pageScroll"in _.value?_.value.pageScroll.visibility:!0);const te=A("settings");let E=it();const z=A("shortcodeData"),o=y(()=>E.getters["entities/getPreselected"]);let H=y(()=>{let M=Array.isArray(z.value.category)?z.value.category:z.value.category.split(",");return M=M.filter(D=>D),M.length}),oe=y(()=>{let M=L.value&&L.value.catContainerWidth?L.value.catContainerWidth>768:!0;return H.value!==1&&_.value.sidebar.visibility&&M}),q=A("amEntities"),fe=y(()=>Ye(E)&&We(E)>0),$e=y(()=>We(E));const N=A("labels"),_e=A("localLanguage");let Z=y(()=>te.general.usedLanguages.includes(_e.value)),m=y(()=>{let M=st(at({},N));if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let D=te.customizedData.cbf.categoryItemsList.translations;Object.keys(D).forEach(c=>{D[c][_e.value]&&Z.value?M[c]=D[c][_e.value]:D[c].default&&(M[c]=D[c].default)})}return M}),ce=x(""),be=kt({components:{IconComponent:Pt},template:'<IconComponent icon="search"/>'}),ue=x(!0),ge=kt({components:{IconComponent:Pt},template:'<IconComponent icon="filter"/>'}),ee=y(()=>L.value&&L.value.catHeaderWidth?L.value.catHeaderWidth:0);window.addEventListener("resize",Be);function Be(){De(()=>{ee.value>480&&(ue.value=!0)})}Ae(()=>{Be()});function Re(M){let D=[];return ce.value.toLowerCase().split(" ").forEach(c=>{D.push(M.toLowerCase().includes(c))}),D.filter(c=>c===!1).length<=0}let v=A("availableCategories"),j=A("categorySelected"),le=y(()=>ht(z.value,q.value.categories.find(M=>M.id===j.value),q.value,ne.value,je.value)),V=y(()=>{let M=[];return q.value.packages.forEach(D=>{le.value.forEach(c=>{D.bookable.filter(pe=>pe.service.id===c).length&&!M.filter(pe=>pe.id===D.id).length&&D.available&&D.status==="visible"&&!jt(q.value,D)&&Ht(q.value,D,z.value)&&(ce.value?Re(D.name):!0)&&M.push(D)})}),M}),Ie=y(()=>{let M=[];return q.value.services.forEach(D=>{le.value.forEach(c=>{D.id===c&&(ce.value?Re(D.name):!0)&&M.push(D)})}),M}),ne=x(null),je=x(null),Ee=x(!0),Q=x(!0);function G(M){M==="all"&&(Ee.value=!0,Q.value=!0),M==="packages"&&(Ee.value=!0,Q.value=!1),M==="services"&&(Ee.value=!1,Q.value=!0)}Ot(()=>{o.value.show&&G(o.value.show)});let B=y(()=>{let M=z.value.employee,D=q.value.employees.length,c=z.value.location,pe=q.value.locations.length,Se=_.value.searchInput.visibility,Ce=_.value.filterEmployee.visibility&&M.length!==1&&D>1&&!w.isLite,K=_.value.filterLocation.visibility&&c.length!==1&&pe>1&&!w.isLite&&!w.isStarter,Ne=_.value.filterButtons.visibility&&o.value.show!=="packages"&&o.value.show!=="services"&&V.value.length!==0&&Ie.value.length!==0&&!We(E),ve={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!Se||!Ne?(ve.employee=!Se&&!Ne?"am-w50":"am-w35",ve.location=!Se&&!Ne?"am-w50":"am-w35",ve.search=!Ne&&!K&&!Ce?"am-w100":"am-w30",Ce||(ve.location=!Se&&!Ne?"am-w100":"am-w70"),K||(ve.employee=!Se&&!Ne?"am-w100":"am-w70")):(Ce||(ve.location="am-w40"),K||(ve.employee="am-w40"),!Ce&&!K&&(ve.search="am-w70")):ee.value>768||ee.value>480?(ve.search=Ne?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",ve.buttons=Se?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",ve.employee=K?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",ve.location=Ce?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",ve.category="am-w100 am-tablet am-order5"):(ve.employee="am-w100 am-mobile",ve.location="am-w100 am-mobile",ve.search="am-w100 am-mobile",ve.buttons="am-w100 am-mobile",ve.category="am-w100 am-mobile"),ve}),ae=y(()=>L.value&&L.value.catContainerWidth?L.value.catContainerWidth:0),dt=y(()=>{let M=V.value.length&&!We(E)?V.value.length:0,D=Ie.value.length>1?m.value.heading_services:m.value.heading_service,c=M?M>1?m.value.packages:m.value.package:"";if(!Ie.value.length&&!M)return m.value.no_search_data;if(Q.value&&(!Ee.value||!M))return`${m.value.available} - ${Ie.value.length} ${D}`;if((!Q.value||!Ie.value.length)&&Ee.value)return`${m.value.available} - ${M} ${c}`;let pe=M?"/":"";return`${m.value.available} - ${Ie.value.length} ${D} ${pe} ${M} ${c}`});Ae(()=>{De(()=>{F.value=V.value.length===0&&Ie.value.length===0})});function Oe(M){j.value=M.id,E.commit("booking/setCategoryId",parseInt(M.id))}let xe=A("itemType");function et(M){E.commit("booking/setServiceId",parseInt(M)),E.commit("booking/setBookableType","appointment"),xe.value="appointment",gt(E,{},"SelectService","appointment",null,null),De(()=>{d()})}function Te(M){E.commit("booking/setServiceId",null),E.commit("booking/setPackageId",M.id),E.commit("booking/setBookableType","package"),E.commit("booking/setMultipleAppointments",It(0,M)),E.commit("booking/setCartItemIndex",0),xe.value="package",gt(E,{},"SelectPackage","package",null,null),De(()=>{d()})}function mt(){j.value=null,E.commit("booking/setCategoryId",null),h()}function pt(){Mt(E),b.value=!0,u.value=!0}let W=x(!1),T=x(""),P=x([]),$=x({}),He=x(null);function Ge(){T.value="",P.value=[],$.value={},He.value=null}function Et(M){P.value=la(q.value,M,z.value),$.value=M,W.value=!0}function lt(M){let D=[];Object.keys(q.value.entitiesRelations).forEach(pe=>{pe in q.value.entitiesRelations&&M in q.value.entitiesRelations[pe]&&q.value.employees.find(Se=>Se.id===parseInt(pe))&&D.push(q.value.employees.find(Se=>Se.id===parseInt(pe)))}),P.value=D,T.value="service",W.value=!0,He.value=M}function _t(M){let D=q.value.services.find(pe=>pe.id===He.value).price,c=M.serviceList.find(pe=>pe.id===He.value).price;return c!==D?`${c-D>0?D>0?"+":"":"-"} ${Ke(c-D)}`:0}function Lt(){T.value==="service"?et(He.value):Te($.value),Ge()}function Xe(M,D){let c="";return M>1?(D==="day"&&(c=m.value.expires_days),D==="week"&&(c=m.value.expires_weeks),D==="month"&&(c=m.value.expires_months)):(D==="day"&&(c=m.value.expires_day),D==="week"&&(c=m.value.expires_week),D==="month"&&(c=m.value.expires_month)),c}function Dt(M,D){return Fe(M,D).length===1?Fe(M,D)[0].address?Fe(M,D)[0].address:Fe(M,D)[0].name:m.value.multiple_locations}let vt=A("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),we=A("amColors"),tt=y(()=>({"--am-c-fcil-text-op-10":ie(we.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ie(we.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ie(we.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ie(we.value.colorCardText,.8),"--am-c-fcil-primary-op20":ie(we.value.colorPrimary,.2),"--am-c-fcil-success-op20":ie(we.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ie(we.value.colorInpText,.1),"--am-w-fcil-main":H.value!==1&&_.value.sidebar.visibility&&oe.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":L.value&&L.value.catFormWidth<580?"100%":"50%"})),Tt=y(()=>({"--am-f-fcil-employee-f":vt.value.fontFamily,"--am-c-fcil-employee-bgr":we.value.colorMainBgr,"--am-c-fcil-employee-heading":we.value.colorMainHeadingText,"--am-c-fcil-employee-text":we.value.colorMainText,"--am-c-fcil-employee-text-op80":ie(we.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ie(we.value.colorMainText,.15),"--am-c-fcil-employee-primary":we.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ie(we.value.colorPrimary,.1),"--am-c-inp-border":we.value.colorInpBorder,"--am-c-main-text":we.value.colorMainText}));return(M,D)=>e(F)?(t(),i("div",al,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,il),a("div",sl,l(e(m).oops),1),a("div",ll,l(e(o).show!=="packages"?e(m).no_services_employees:e(m).no_package_services),1),a("div",nl,[e(o).show!=="packages"?(t(),i("span",ol,l(e(m).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",cl,l(e(m).add_services_url)+"\xA0 ",1),e(o).show!=="packages"?(t(),i("span",rl,l(e(m).and)+"\xA0 ",1)):r("",!0),e(o).show!=="packages"?(t(),i("a",ul,l(e(m).add_employees_url),1)):r("",!0)])],512)):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":`am-fcil ${e(k)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(k)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(k)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:re(e(tt))},Nt({header:O(()=>[a("span",ss,[e(H)!==1&&!e(z).categories_hidden?(t(),he(Ut,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(m).back_btn,"btn-type":e(_).backBtn.buttonType,"cart-btn-visibility":e(fe),"cart-items-number":e($e),onGoBack:mt,onGoToCart:pt},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):r("",!0),e(ee)<481?(t(),he(ze,{key:1,size:"medium",category:"secondary",type:e(_).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ge),onClick:D[0]||(D[0]=()=>de(ue)?ue.value=!e(ue):ue=!e(ue))},null,8,["type","icon"])):r("",!0)]),a("div",ls,[e(_).searchInput.visibility?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(B).search])},[J(Wa,{modelValue:e(ce),"onUpdate:modelValue":D[1]||(D[1]=c=>de(ce)?ce.value=c:ce=c),placeholder:e(m).filter_input,"icon-start":e(be)},null,8,["modelValue","placeholder","icon-start"])],2)):r("",!0),J(Qe,{name:"slide-fade"},{default:O(()=>[e(z).employee.length!==1&&e(q).employees.length>1&&e(_).filterEmployee.visibility&&e(ue)&&!e(w).isLite?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(B).employee])},[J(zt,{modelValue:e(ne),"onUpdate:modelValue":D[2]||(D[2]=c=>de(ne)?ne.value=c:ne=c),clearable:"",filterable:"",placeholder:e(m).filter_employee,"fit-input-width":!0},{default:O(()=>[(t(!0),i(X,null,ye(e(q).employees,c=>(t(),he(At,{key:c.id,value:c.id,label:`${c.firstName} ${c.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Qe,{name:"slide-fade"},{default:O(()=>[e(z).location.length!==1&&e(q).locations.length>1&&e(_).filterLocation.visibility&&e(ue)&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(B).location])},[J(zt,{modelValue:e(je),"onUpdate:modelValue":D[3]||(D[3]=c=>de(je)?je.value=c:je=c),clearable:"",filterable:"",placeholder:e(m).filter_location,"fit-input-width":!0},{default:O(()=>[(t(!0),i(X,null,ye(e(q).locations,c=>(t(),he(At,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):r("",!0)]),_:1}),J(Qe,{name:"slide-fade"},{default:O(()=>[e(H)!==1&&e(_).sidebar.visibility&&!e(oe)&&e(ue)?(t(),i("div",{key:0,class:R(["am-fcil__filter-item am-w100",e(B).category])},[J(zt,{modelValue:e(j),"onUpdate:modelValue":D[4]||(D[4]=c=>de(j)?j.value=c:j=c),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:O(()=>[(t(!0),i(X,null,ye(e(v),c=>(t(),he(At,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):r("",!0)]),_:1}),!e(o).show&&e(_).filterButtons.visibility&&e(V).length!==0&&e(Ie).length!==0&&!e(We)(e(E))?(t(),i("div",{key:1,class:R(["am-fcil__filter-item",e(B).buttons])},[a("div",ns,[a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(Ee)&&e(Q)}]),onClick:D[5]||(D[5]=c=>G("all"))},[a("span",null,l(e(m).filter_all),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(Ee)&&!e(Q)}]),onClick:D[6]||(D[6]=c=>G("packages"))},[a("span",null,l(e(m).filter_packages),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":!e(Ee)&&e(Q)}]),onClick:D[7]||(D[7]=c=>G("services"))},[a("span",null,l(e(m).filter_services),1)],2)])],2)):r("",!0)])]),heading:O(()=>[a("div",os,l(e(dt)),1)]),content:O(()=>[e(Ee)&&!e(We)(e(E))?(t(!0),i(X,{key:0},ye(e(V),c=>{var pe,Se;return t(),i("div",{key:c.id,class:R(["am-fcil__item",{"am-mobile":e(ae)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ie)(c.color,.1)}:{})},[e(_).packageBadge.visibility?(t(),i("div",cs,[a("div",rs,[us,a("span",null,l(e(m).package),1)])])):r("",!0),c.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):r("",!0),a("div",ds,[a("div",ms,l(c.name),1),e(_).packagePrice.visibility?(t(),i("div",ps,[c.discount?(t(),i("span",_s,l(`${e(m).save} ${c.discount}%`),1)):r("",!0),a("span",vs,l(c.price?e(Ke)(e(Vt)(c)):e(m).free),1),c.price&&((Se=(pe=e(_).tax)==null?void 0:pe.visibility)!=null?Se:!0)&&e(yt)(e(E),c.id,"package")?(t(),i("span",fs,[e(te).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(m).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(m).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",gs,[e(_).packageCategory.visibility?(t(),i("div",ys,[hs,a("span",null,l(e(v).find(Ce=>Ce.id===e(j)).name),1)])):r("",!0),e(_).packageDuration.visibility?(t(),i("div",bs,[ks,c.endDate?(t(),i("span",Cs,l(`${e(m).expires_at} ${c.endDate.split(" ")[0]}`),1)):c.durationCount?(t(),i("span",$s,l(`${e(m).expires_after} ${c.durationCount} ${Xe(c.durationCount,c.durationType)}`),1)):(t(),i("span",ws,l(e(m).without_expiration),1))])):r("",!0),e(_).packageCapacity.visibility?(t(),i("div",Ss,Is)):r("",!0),e(nt)(e(q),c,e(z)).length&&e(_).packageLocation.visibility?(t(),i("div",Es,[Ls,a("span",null,l(e(nt)(e(q),c,e(z)).length===1?e(nt)(e(q),c,e(z))[0].address?e(nt)(e(q),c,e(z))[0].address:e(nt)(e(q),c,e(z))[0].name:e(m).multiple_locations),1)])):r("",!0)]),e(_).packageServices.visibility?(t(),i("div",Ds,[a("span",null,l(`${e(m).in_package}:`),1),(t(!0),i(X,null,ye(c.bookable,Ce=>(t(),i("span",{key:Ce.id},l(Ce.service.name),1))),128))])):r("",!0)],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(_).cardEmployeeBtn.visibility?(t(),he(ze,{key:0,class:R({"am-w100":e(ae)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:Ce=>Et(c)},{default:O(()=>[me(l(e(m).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(ze,{class:R([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:Ce=>Te(c)},{default:O(()=>[me(l(e(m).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):r("",!0),e(Q)?(t(!0),i(X,{key:1},ye(e(Ie),c=>{var pe,Se;return t(),i("div",{key:c.id,class:R(["am-fcil__item",{"am-mobile":e(ae)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(_).cardColor&&e(_).cardColor.visibility?{backgroundColor:e(ie)(c.color,.1)}:{})},[e(_).serviceBadge.visibility?(t(),i("div",Ts,[a("div",Bs,[Fs,a("span",null,l(e(m).heading_service),1)])])):r("",!0),c.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):r("",!0),a("div",zs,[a("div",As,l(c.name),1),e(_).servicePrice.visibility?(t(),i("div",Rs,[e(rt)(e(q),c.id).min||e(rt)(e(q),c.id).max?(t(),i("span",Ms,l(e(rt)(e(q),c.id).price),1)):r("",!0),((Se=(pe=e(_).tax)==null?void 0:pe.visibility)!=null?Se:!0)&&e(yt)(e(E),c.id,"service")?(t(),i("span",Os,[e(te).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(m).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(m).incl_tax),1)],64))])):r("",!0)])):r("",!0)]),a("div",Ns,[e(_).serviceCategory.visibility?(t(),i("div",Vs,[Us,a("span",null,l(e(v).find(Ce=>Ce.id===e(j)).name),1)])):r("",!0),e(_).serviceDuration.visibility?(t(),i("div",Ws,[js,a("span",null,l(e(sa)(c.duration)),1)])):r("",!0),e(_).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Hs,[qs,a("span",null,l(e(ia)(e(q),c.id)),1)])):r("",!0),e(Fe)(e(q),c.id).length&&e(_).serviceLocation.visibility?(t(),i("div",Gs,[Js,a("span",null,l(Dt(e(q),c.id)),1)])):r("",!0)])],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(_).cardEmployeeBtn.visibility&&!e(w).isLite?(t(),he(ze,{key:0,class:R({"am-w100":e(ae)<320}),size:"small",type:e(_).cardEmployeeBtn.buttonType,onClick:Ce=>lt(c.id)},{default:O(()=>[me(l(e(m).view_employees),1)]),_:2},1032,["class","type","onClick"])):r("",!0),J(ze,{class:R([{"am-w100":!e(_).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(_).cardContinueBtn.buttonType,onClick:Ce=>et(c.id)},{default:O(()=>[me(l(e(m).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):r("",!0),J(ut,{modelValue:e(W),"onUpdate:modelValue":D[9]||(D[9]=c=>de(W)?W.value=c:W=c),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Tt),width:"648px",onClose:Ge},{title:O(()=>[a("div",Ys,l(e(m).employee_info),1)]),default:O(()=>[a("div",null,[J($t,null,{default:O(()=>[(t(!0),i(X,null,ye(e(P),(c,pe)=>(t(),he(wt,{key:pe,side:""},{heading:O(()=>[a("div",Qs,[a("div",Xs,[J(ct,{"item-class":"am-fcil-employee__img","item-data":c,"trim-string":2},null,8,["item-data"]),a("div",Zs,[me(l(`${c.firstName} ${c.lastName}`)+" ",1),c.badge?(t(),i("span",{key:0,style:re({background:c.badge.color}),class:"am-fcil-employee__badge"},l(c.badge.content),5)):r("",!0)])]),e(T)==="service"&&_t(c)!==0?(t(),i("div",Ks,[a("div",el,l(_t(c)),1)])):r("",!0)])]),default:O(()=>[e(Me)(c.description)?(t(),i("div",{key:0,class:R(["am-fcil-employee__text",{"ql-description":c.description.includes("<!-- Content -->")}]),innerHTML:c.description},null,10,tl)):r("",!0)]),_:2},1024))),128))]),_:1})])]),footer:O(()=>[e(_).dialogEmployeeBtn.visibility?(t(),he(ze,{key:0,type:e(_).dialogEmployeeBtn.buttonType,category:"primary",onClick:D[8]||(D[8]=c=>Lt())},{default:O(()=>[me(l(e(T)==="service"?e(m).book_service:e(m).book_package),1)]),_:1},8,["type"])):r("",!0)]),_:1},8,["modelValue","custom-styles"]),J(ut,{modelValue:e(u),"onUpdate:modelValue":D[10]||(D[10]=c=>de(u)?u.value=c:u=c),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:p},{default:O(()=>[J(qt,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(H)!==1&&e(_).sidebar.visibility&&e(oe)?{name:"side",fn:O(()=>[J(ci,{"menu-items":e(v),"init-selection":e(j),identifier:"id","name-identifier":"name","footer-string":e(m).get_in_touch,"company-email":e(te).company.email,onClick:Oe},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const pl={class:"am-fcis__header-text"},_l={class:"am-fcis__header-name"},vl={key:0,class:"am-fcis__badge am-service"},fl=a("span",{class:"am-icon-service"},null,-1),gl={class:"am-fcis__header-action"},yl={key:0,class:"am-fcis__header-price"},hl={key:1,class:"am-fcis__header-tax"},bl={class:"am-fcis__header-btn"},kl={key:0,class:"am-fcis__header-bottom"},Cl={class:"am-fcis__mini-info"},$l={key:0,class:"am-fcis__mini-info__inner"},wl=a("span",{class:"am-icon-folder"},null,-1),Sl={key:1,class:"am-fcis__mini-info__inner"},xl=a("span",{class:"am-icon-clock"},null,-1),Pl={key:2,class:"am-fcis__mini-info__inner"},Il=a("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Ll=a("span",{class:"am-icon-locations"},null,-1),Dl={key:0,class:"am-fcis__gallery"},Tl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Bl={class:"am-gd__display-wrapper"},Fl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},zl=["src","alt"],Al={class:"am-gd__selection"},Rl={class:"am-gd__thumb-wrapper"},Ml=["onClick"],Ol={key:1,class:"am-fcis__info"},Nl={class:"am-fcis__info-tab__wrapper"},Vl={class:"am-fcis__info-content__wrapper"},Ul={key:0,class:"am-fcis__info-content"},Wl=["innerHTML"],jl={key:1,class:"am-fcis__info-content"},Hl={class:"am-fcis__info-employee__hero"},ql={class:"am-fcis__info-employee__heading"},Gl={class:"am-fcis__info-employee__name"},Jl={key:0,class:"am-fcis__info-employee__price"},Yl=["innerHTML"],Ql={key:2,class:"am-fcis__include-wrapper"},Xl={class:"am-fcis__include-heading"},Zl={class:"am-fcis__include-heading__text"},Kl=["onClick"],en={class:"am-fcis__include-hero"},tn={key:0,class:"am-fcis__include-cost"},an={key:0,class:"am-fcis__include-discount"},sn={class:"am-fcis__include-price"},ln={key:1,class:"am-fcis__include-price"},nn={class:"am-fcis__include-info"},on={key:0,class:"am-fcis__include-info__inner"},cn=a("span",{class:"am-icon-folder"},null,-1),rn={key:1,class:"am-fcis__include-info__inner"},un=a("span",{class:"am-icon-clock"},null,-1),dn={key:0},mn={key:1},pn={key:2},_n={key:2,class:"am-fcis__include-info__inner"},vn=a("span",{class:"am-icon-user"},null,-1),fn=a("span",null,"1/1",-1),gn=[vn,fn],yn={key:3,class:"am-fcis__include-info__inner"},hn=a("span",{class:"am-icon-locations"},null,-1),bn={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},kn={key:1,ref:"ameliaContainer",class:"am-empty"},Cn=["src"],$n={class:"am-empty__heading"},wn={class:"am-empty__subheading"},Sn={class:"am-empty__text"},xn={key:0},Pn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},In={key:1},En={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ln={name:"CategoryService"},Dn=Object.assign(Ln,{setup(f){let w=A("licence"),{previousPage:d}=A("changingPageFunctions",{previousPage:()=>{}}),h=y(()=>U.getters["entities/getReady"]);const C=A("baseUrls");let F=x(),u=A("containerWidth");const s=A("settings");let p=A("amFonts");const b=A("labels"),L=A("localLanguage");let k=y(()=>s.general.usedLanguages.includes(L.value)),S=y(()=>{let W=st(at({},b));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(P=>{T[P][L.value]&&k.value?W[P]=T[P][L.value]:T[P].default&&(W[P]=T[P].default)})}return W}),_=x(0),U=it(),te=A("amEntities"),E=y(()=>Ye(U)&&We(U)>0),z=y(()=>We(U)),o=A("customizedDataForm"),H=y(()=>o.value.categoryService.options),oe=y(()=>"pageScroll"in H.value?H.value.pageScroll.visibility:!0),q=A("itemType"),fe=A("categorySelected"),$e=y(()=>te.value.categories.find(W=>W.id===fe.value)),N=y(()=>{let W=te.value.services.find(T=>T.id===U.getters["booking/getServiceId"]);return W||{}});function _e(W,T){return Fe(W,T).length===1?Fe(W,T)[0].address?Fe(W,T)[0].address:Fe(W,T)[0].name:S.value.multiple_locations}let Z=x("description"),m=y(()=>{let W=[];return Object.keys(te.value.entitiesRelations).forEach(P=>{te.value.entitiesRelations[P][N.value.id]&&te.value.employees.find($=>$.id===parseInt(P))&&W.push(te.value.employees.find($=>$.id===parseInt(P)))}),W});function ce(W){let T=W.serviceList.find(P=>P.id===N.value.id).price;return T-N.value.price!==0?`${T-N.value.price>0?N.value.price>0?"+":"":"-"} ${Ke(T-N.value.price)}`:""}Ae(()=>{H.value.serviceDescription.visibility||(Z.value="employees"),Me(N.value.description)||(Z.value="employees")});let be=y(()=>{let W=N.value.gallery.length?JSON.parse(JSON.stringify(N.value.gallery)):[];return N.value.gallery.length===1?[]:(W.shift(),W.length>2&&W.splice(2,W.length-2),W)}),ue=y(()=>{let W=[];return te.value.packages.forEach(T=>{T.bookable.filter(P=>P.service.id===N.value.id).length&&!W.filter(P=>P.id===T.id).length&&T.available&&T.status==="visible"&&W.push(T)}),W}),ge=x(!1),ee=y(()=>{let W=[...ue.value];return ge.value?W:W.slice(0,2)}),Be=y(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Re(){q.value="",De(()=>{d()})}let v=x(!1);function j(){Mt(U),v.value=!0,V.value=!0}function le(){V.value=!1,U.getters["entities/getPreselected"].service.length>1&&Re()}let V=x(!1),Ie=x("760px");se("bookingDialogWidth",Ie);function ne(){let W=U.getters["entities/getPreselected"];m.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(m.value[0].id)),W.employee=[parseInt(m.value[0].id)],U.commit("entities/setPreselected",W)),v.value=!1,V.value=!1,ja(U),aa(U,!1),ft(U);let T=Fe(te.value,N.value.id);T.length===1&&(U.commit("booking/setLocationId",parseInt(T[0].id)),W.location=[parseInt(T[0].id)],U.commit("entities/setPreselected",W)),U.commit("booking/setBookableType","appointment"),V.value=!0}A("restoreFormData").value&&ne();function Ee(W){U.commit("booking/setPackageId",W.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",It(0,W)),U.commit("booking/setMultipleAppointmentsIndex",0),m.value.length===1&&U.commit("booking/setEmployeeId",parseInt(m.value[0].id)),Fe(te.value,N.value.id).length===1&&U.commit("booking/setLocationId",parseInt(Fe(te.value,N.value.id)[0].id)),De(()=>{V.value=!0})}const Q=y(()=>U.getters["entities/getPreselected"]);let G=y(()=>te.value.services.length!==1&&Q.value.service.length!==1),B=x("");se("stepName",B);function ae(){let W=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),T=W.settings?JSON.parse(W.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function dt(){if(B.value&&B.value==="CongratulationsStep")ae();else{if(B.value&&B.value==="DateTimeStep"){let W=Ha(U);W&&console.log(W)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Ie.value="760px"}let Oe=x(!1);function xe(W,T){let P="";return W>1?(T==="day"&&(P=S.value.expires_days),T==="week"&&(P=S.value.expires_weeks),T==="month"&&(P=S.value.expires_months)):(T==="day"&&(P=S.value.expires_day),T==="week"&&(P=S.value.expires_week),T==="month"&&(P=S.value.expires_month)),P}let et=y(()=>Object.keys(N.value).length===0||m.value.length===0),Te=A("amColors"),mt=y(()=>({"--am-c-fcis-success-op20":ie(Te.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ie(Te.value.colorPrimary,.2),"--am-c-fcis-text-op80":ie(Te.value.colorMainText,.8),"--am-c-fcis-text-op03":ie(Te.value.colorMainText,.03),"--am-c-fcis-btn-op50":ie(Te.value.colorBtnSec,.5)})),pt=y(()=>({"--am-c-fcis-bgr":Te.value.colorMainBgr,"--am-c-fcis-text":Te.value.colorMainText,"--am-c-fcis-success":Te.value.colorSuccess,"--am-c-fcis-primary":Te.value.colorPrimary,"--am-c-scroll-op30":ie(Te.value.colorPrimary,.3),"--am-c-scroll-op10":ie(Te.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(W,T)=>e(h)?(t(),i(X,{key:0},[e(et)?r("",!0):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:F,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(oe)?"":"no-scroll"}`,style:re(e(mt))},{header:O(()=>[J(Ut,{"btn-string":e(S).back_btn,"btn-type":e(H).backBtn.buttonType,"back-btn-visibility":e(G),"cart-btn-visibility":e(E),"cart-items-number":e(z),onGoBack:Re,onGoToCart:j},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:O(()=>{var P,$;return[a("div",{class:R([[{"am-tablet":e(u)<=678},{"am-mobile":e(u)<450}],"am-fcis__header-top"])},[a("div",pl,[a("span",_l,l(e(N).name),1),e(H).serviceBadge.visibility?(t(),i("div",vl,[fl,a("span",null,l(e(S).heading_service),1)])):r("",!0)]),a("div",gl,[e(H).servicePrice.visibility?(t(),i("span",yl,l(e(rt)(e(te),e(N).id).min||e(rt)(e(te),e(N).id).max?e(rt)(e(te),e(N).id).price:e(S).free),1)):r("",!0),(($=(P=e(H).tax)==null?void 0:P.visibility)!=null?$:!0)&&e(yt)(e(U),e(N).id,"service")?(t(),i("span",hl,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(S).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(S).incl_tax),1)],64))])):r("",!0),a("span",bl,[J(ze,{type:e(H).bookingBtn.buttonType,onClick:ne},{default:O(()=>[me(l(e(S).book_now),1)]),_:1},8,["type"])])])],2),e(H).serviceCategory.visibility||e(H).serviceDuration.visibility||e(H).serviceCapacity.visibility||e(H).serviceLocation.visibility?(t(),i("div",kl,[a("div",Cl,[e(H).serviceCategory.visibility?(t(),i("div",$l,[wl,a("span",null,l(e($e).name),1)])):r("",!0),e(H).serviceDuration.visibility?(t(),i("div",Sl,[xl,a("span",null,l(e(sa)(e(N).duration)),1)])):r("",!0),e(H).serviceCapacity.visibility&&!e(w).isLite?(t(),i("div",Pl,[Il,a("span",null,l(e(ia)(e(te),e(N).id)),1)])):r("",!0),e(Fe)(e(te),e(N).id).length&&e(H).serviceLocation.visibility&&!e(w).isLite&&!e(w).isStarter?(t(),i("div",El,[Ll,a("span",null,l(_e(e(te),e(N).id)),1)])):r("",!0)])])):r("",!0)]}),content:O(()=>[e(N).gallery.length?(t(),i("div",Dl,[a("div",{class:R(["am-fcis__gallery-hero",[{w100:e(N).gallery.length===1},{"am-mobile w100":e(u)<678}]]),style:re({backgroundImage:`url(${e(N).gallery[0].pictureFullPath})`})},null,6),e(be).length&&e(u)>677?(t(),i("div",Tl,[(t(!0),i(X,null,ye(e(be),(P,$)=>(t(),i("div",{key:$,class:R(["am-fcis__gallery-thumb",{"am-one-thumb":e(be).length===1}]),style:re({backgroundImage:`url(${P.pictureFullPath})`})},null,6))),128))])):r("",!0),J(ze,{"custom-class":`am-fcis__gallery-btn${e(u)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>de(Oe)?Oe.value=!0:Oe=!0)},{default:O(()=>[me(l(e(S).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ut,{modelValue:e(Oe),"onUpdate:modelValue":T[4]||(T[4]=P=>de(Oe)?Oe.value=P:Oe=P),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:re(e(pt))},[a("div",Bl,[a("div",Fl,[a("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>de(_)?_.value=e(_)<=0?e(N).gallery.length-1:e(_)-1:_=e(_)<=0?e(N).gallery.length-1:e(_)-1)}),a("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>de(_)?_.value=e(N).gallery.length-1===e(_)?0:e(_)+1:_=e(N).gallery.length-1===e(_)?0:e(_)+1)})]),(t(!0),i(X,null,ye(e(N).gallery,(P,$)=>(t(),i("div",{key:$,class:"am-gd__display",style:re({display:$===e(_)?"flex":"none"}),onClick:T[3]||(T[3]=()=>de(_)?_.value=e(N).gallery.length-1===e(_)?0:e(_)+1:_=e(N).gallery.length-1===e(_)?0:e(_)+1)},[a("img",{src:P.pictureFullPath,alt:$},null,8,zl)],4))),128))]),a("div",Al,l(`${e(_)+1}/${e(N).gallery.length}`),1),a("div",Rl,[(t(!0),i(X,null,ye(e(N).gallery,(P,$)=>(t(),i("div",{key:$,class:R(["am-gd__thumb",{"am-active":$===e(_)}]),style:re({backgroundImage:`url(${P.pictureFullPath})`}),onClick:()=>de(_)?_.value=$:_=$},null,14,Ml))),128))])],4)]),_:1},8,["modelValue"]),e(H).serviceDescription.visibility&&e(Me)(e(N).description)||e(H).serviceEmployees.visibility?(t(),i("div",Ol,[a("div",Nl,[e(Me)(e(N).description)&&e(H).serviceDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcis__info-tab",{"am-active":e(Z)==="description"}]),onClick:T[5]||(T[5]=()=>de(Z)?Z.value="description":Z="description")},l(e(S).about_service),3)):r("",!0),e(H).serviceEmployees.visibility&&!e(w).isLite?(t(),i("div",{key:1,class:R([{"am-active":e(Z)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>de(Z)?Z.value="employees":Z="employees")},l(e(S).tab_employees),3)):r("",!0)]),a("div",Vl,[e(Me)(e(N).description)&&e(H).serviceDescription.visibility?St((t(),i("div",Ul,[a("div",{class:R(["am-fcis__info-service__desc",{"ql-description":e(N).description.includes("<!-- Content -->")}]),innerHTML:e(N).description},null,10,Wl)],512)),[[xt,e(Z)==="description"]]):r("",!0),e(H).serviceEmployees.visibility?St((t(),i("div",jl,[J($t,null,{default:O(()=>[(t(!0),i(X,null,ye(e(m),P=>(t(),he(wt,{key:P.id,side:""},{heading:O(()=>[a("div",{class:R([{"am-mobile":e(u)<451},"am-fcis__info-employee"])},[a("div",Hl,[J(ct,{"item-class":"am-fcis__info-employee__img","item-data":P,"trim-string":3},null,8,["item-data"]),a("div",ql,[a("div",Gl,[me(l(P.firstName)+" "+l(P.lastName)+" ",1),P.badge?(t(),i("span",{key:0,style:re({background:P.badge.color}),class:"am-fcis__info-employee__badge"},l(P.badge.content),5)):r("",!0)]),ce(P)&&e(H).serviceEmployeePrice.visibility?(t(),i("div",Jl,l(ce(P)),1)):r("",!0)])])],2)]),default:O(()=>[e(Me)(P.description)?(t(),i("div",{key:0,class:R(["am-fcis__info-employee__description",{"ql-description":P.description.includes("<!-- Content -->")}]),innerHTML:P.description},null,10,Yl)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(Z)==="employees"]]):r("",!0)])])):r("",!0),e(ue).length&&e(Q).show!=="services"&&e(H).servicePackages.visibility&&!e(We)(e(U))?(t(),i("div",Ql,[a("div",Xl,[a("span",Zl,l(e(S).service_available_in_package),1),e(ue).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>de(ge)?ge.value=!e(ge):ge=!e(ge))},[e(ge)?(t(),i(X,{key:1},[me(l(e(S).less_packages),1)],64)):(t(),i(X,{key:0},[me(l(e(S).more_packages),1)],64))])):r("",!0)]),(t(!0),i(X,null,ye(e(ee),P=>{var $,He;return t(),i("div",{key:P.id,class:"am-fcis__include",onClick:Ge=>Ee(P)},[a("div",en,[e(u)>450?(t(),he(ct,{key:0,"item-class":"am-fcis__include-img","item-data":P,"trim-string":3},null,8,["item-data"])):r("",!0),a("div",{class:R([{"am-mobile":e(u)<451},"am-fcis__include-text"])},[a("div",{class:R(["am-fcis__include-header",{"am-mobile":e(u)<600}])},[a("div",{class:R(["am-fcis__include-name",{"am-mobile":e(u)<600}])},l(P.name),3),e(H).packagePrice.visibility?(t(),i("div",tn,[P.discount?(t(),i("span",an,l(`${e(S).save} ${P.discount}%`),1)):r("",!0),a("span",sn,l(P.price?e(Ke)(e(Vt)(P)):e(S).free),1),((He=($=e(H).tax)==null?void 0:$.visibility)!=null?He:!0)&&e(yt)(e(U),P.id,"package")?(t(),i("span",ln,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(S).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(S).incl_tax),1)],64))])):r("",!0)])):r("",!0)],2),a("div",nn,[e(H).packageCategory.visibility?(t(),i("div",on,[cn,a("span",null,l(e($e).name),1)])):r("",!0),e(H).packageDuration.visibility?(t(),i("div",rn,[un,P.endDate?(t(),i("span",dn,l(`${e(S).expires_at} ${P.endDate.split(" ")[0]}`),1)):P.durationCount?(t(),i("span",mn,l(`${e(S).expires_after} ${P.durationCount} ${xe(P.durationCount,P.durationType)}`),1)):(t(),i("span",pn,l(e(S).without_expiration),1))])):r("",!0),e(H).packageCapacity.visibility?(t(),i("div",_n,gn)):r("",!0),e(H).packageLocation.visibility&&e(Be).length?(t(),i("div",yn,[hn,a("span",null,l(e(Be).length===1?e(Be)[0].address?e(Be)[0].address:e(Be)[0].name:e(S).multiple_locations),1)])):r("",!0),e(H).packageServices.visibility?(t(),i("div",bn,[a("span",null,l(`${e(S).in_package}:`),1),(t(!0),i(X,null,ye(P.bookable,Ge=>(t(),i("span",{key:Ge.id},l(Ge.service.name),1))),128))])):r("",!0)])],2)])],8,Kl)}),128))])):r("",!0),J(ut,{modelValue:e(V),"onUpdate:modelValue":T[9]||(T[9]=P=>de(V)?V.value=P:V=P),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Ie),onClosed:dt},{default:O(()=>[J(qt,{"show-cart":e(v),onAddToCart:le,onEmptiedCart:T[8]||(T[8]=P=>de(V)?V.value=!1:V=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(et)?(t(),i("div",kn,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Cn),a("div",$n,l(e(S).oops),1),a("div",wn,l(e(Q).show!=="packages"?e(S).no_services_employees:e(S).no_package_services),1),a("div",Sn,[e(Q).show!=="packages"?(t(),i("span",xn,l(e(S).add_services_employees)+"\xA0 ",1)):r("",!0),a("a",Pn,l(e(S).add_services_url)+"\xA0 ",1),e(Q).show!=="packages"?(t(),i("span",In,l(e(S).and)+"\xA0 ",1)):r("",!0),e(Q).show!=="packages"?(t(),i("a",En,l(e(S).add_employees_url),1)):r("",!0)])],512)):r("",!0)],64)):r("",!0)}});const Tn={class:"am-fcip__header-text"},Bn={class:"am-fcip__header-name"},Fn={key:0,class:"am-fcip__badge am-package"},zn=a("span",{class:"am-icon-shipment"},null,-1),An={class:"am-fcip__header-action"},Rn={key:0,class:"am-fcip__header-discount"},Mn={key:1,class:"am-fcip__header-price"},On={key:2,class:"am-fcip__header-tax"},Nn={class:"am-fcip__header-btn"},Vn={key:0,class:"am-fcip__header-bottom"},Un={class:"am-fcip__mini-info"},Wn={key:0,class:"am-fcip__mini-info__inner"},jn=a("span",{class:"am-icon-folder"},null,-1),Hn={key:1,class:"am-fcip__mini-info__inner"},qn=a("span",{class:"am-icon-clock"},null,-1),Gn={key:0},Jn={key:1},Yn={key:2},Qn={key:2,class:"am-fcip__mini-info__inner"},Xn=a("span",{class:"am-icon-user"},null,-1),Zn=a("span",null,"1/1",-1),Kn=[Xn,Zn],eo={key:3,class:"am-fcip__mini-info__inner"},to=a("span",{class:"am-icon-locations"},null,-1),ao={key:0,class:"am-fcip__gallery"},io={key:0,class:"am-fcip__gallery-thumb__wrapper"},so=a("span",{class:"am-icon-gallery"},null,-1),lo={class:"am-gd__display-wrapper"},no={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},oo=["src","alt"],co={class:"am-gd__selection"},ro={class:"am-gd__thumb-wrapper"},uo=["onClick"],mo={key:1,class:"am-fcip__info"},po={class:"am-fcip__info-tab__wrapper"},_o={class:"am-fcip__info-content__wrapper"},vo={key:0,class:"am-fcip__info-content"},fo=["innerHTML"],go={key:1,class:"am-fcip__info-content"},yo={class:"am-fcip__info-employee"},ho={class:"am-fcip__info-employee__hero"},bo={class:"am-fcip__info-employee__name"},ko=["innerHTML"],Co={key:2,class:"am-fcip__include-wrapper"},$o={class:"am-fcip__include-heading"},wo={class:"am-fcip__include-heading__text"},So={class:"am-fcip__include-service"},xo={class:"am-fcip__include-service__info"},Po={key:0},Io=["innerHTML"],Eo={class:"am-fcip__include-footer"},Lo={class:"am-fcip__include-footer__text"},Do={key:1,ref:"ameliaContainer",class:"am-empty"},To=["src"],Bo={class:"am-empty__heading"},Fo={class:"am-empty__subheading"},zo={class:"am-empty__text"},Ao={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ro={name:"CategoryPackage"},Mo=Object.assign(Ro,{setup(f){let{previousPage:w}=A("changingPageFunctions",{previousPage:()=>{}}),d=x(),h=A("containerWidth");const C=A("settings"),F=A("baseUrls");let u=it();const s=A("shortcodeData"),p=y(()=>u.getters["entities/getPreselected"]);let b=A("amEntities"),L=A("customizedDataForm"),k=y(()=>L.value.categoryPackage.options),S=y(()=>"pageScroll"in k.value?k.value.pageScroll.visibility:!0),_=A("itemType"),U=A("categorySelected"),te=y(()=>b.value.categories.find(Q=>Q.id===U.value)),E=y(()=>b.value.packages.find(Q=>Q.id===u.getters["booking/getPackageId"])),z=x(0),o=x("description"),H=y(()=>la(b.value,E.value,s.value)),oe=y(()=>nt(b.value,E.value,s.value)),q=x(p.value.employee.length>0?b.value.unfilteredEmployees.filter(Q=>p.value.employee.map(G=>parseInt(G)).includes(Q.id)):b.value.unfilteredEmployees);function fe(Q){let G=[];return Q.providers.length?Q.providers.forEach(B=>{q.value.find(ae=>ae.id===parseInt(B.id))&&G.push(q.value.find(ae=>ae.id===parseInt(B.id)))}):G=q.value.filter(B=>B.serviceList.find(ae=>ae.id===Q.service.id)),G}Ae(()=>{k.value.packageDescription.visibility||(o.value="employees"),Me(E.value.description)||(o.value="employees")});let $e=x(!1);Ot(()=>{$e.value=u.getters["entities/getEmployees"].length===0||H.value.length===0});let N=x(!1),_e=y(()=>{let Q=E.value.gallery.length?JSON.parse(JSON.stringify(E.value.gallery)):[];return E.value.gallery.length===1?[]:(Q.shift(),Q.length>2&&Q.splice(2,Q.length-2),Q)});function Z(){_.value="",De(()=>{w()})}let m=x(!1),ce=x("760px");se("bookingDialogWidth",ce);function be(){u.commit("booking/setPackageId",E.value.id),u.commit("booking/setMultipleAppointments",It(0,E.value)),u.commit("booking/setMultipleAppointmentsIndex",0),u.commit("booking/setBookableType","package"),De(()=>{m.value=!0})}A("restoreFormData").value&&be();let ge=x("");se("stepName",ge);function ee(){let Q=u.getters["entities/getBookableFromBookableEntities"](u.getters["booking/getSelection"]),G=Q.settings?JSON.parse(Q.settings):C;"general"in G&&"redirectUrlAfterAppointment"in G.general&&G.general.redirectUrlAfterAppointment?window.location.href=G.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Be(){ge.value&&ge.value==="CongratulationsStep"?ee():u.commit("entities/setPreselected",u.getters["entities/getOriginalPreselected"]),ce.value="760px"}let Re=A("amFonts");const v=A("labels"),j=A("localLanguage");let le=y(()=>C.general.usedLanguages.includes(j.value)),V=y(()=>{let Q=st(at({},v));if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let G=C.customizedData.cbf.categoryPackage.translations;Object.keys(G).forEach(B=>{G[B][j.value]&&le.value?Q[B]=G[B][j.value]:G[B].default&&(Q[B]=G[B].default)})}return Q});function Ie(Q,G){let B="";return Q>1?(G==="day"&&(B=V.value.expires_days),G==="week"&&(B=V.value.expires_weeks),G==="month"&&(B=V.value.expires_months)):(G==="day"&&(B=V.value.expires_day),G==="week"&&(B=V.value.expires_week),G==="month"&&(B=V.value.expires_month)),B}let ne=A("amColors"),je=y(()=>({"--am-c-fcip-success-op20":ie(ne.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ie(ne.value.colorPrimary,.2),"--am-c-fcip-text-op80":ie(ne.value.colorMainText,.8),"--am-c-fcip-text-op60":ie(ne.value.colorMainText,.6),"--am-c-fcip-text-op03":ie(ne.value.colorMainText,.03),"--am-c-fcip-btn-op50":ie(ne.value.colorBtnSec,.5)})),Ee=y(()=>({"--am-c-fcip-bgr":ne.value.colorMainBgr,"--am-c-fcip-text":ne.value.colorMainText,"--am-c-fcip-success":ne.value.colorSuccess,"--am-c-fcip-primary":ne.value.colorPrimary,"--am-c-scroll-op30":ie(ne.value.colorPrimary,.3),"--am-c-scroll-op10":ie(ne.value.colorPrimary,.1),"--am-font-family":Re.fontFamily}));return(Q,G)=>(t(),i(X,null,[e($e)?r("",!0):(t(),he(Wt,{key:0,ref_key:"contentRef",ref:d,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(S)?"":"no-scroll"}`,style:re(e(je))},Nt({heading:O(()=>{var B,ae;return[a("div",{class:R([[{"am-tablet":e(h)<=678},{"am-mobile":e(h)<450}],"am-fcip__header-top"])},[a("div",Tn,[a("span",Bn,[a("span",null,l(e(E).name),1)]),e(k).packageBadge.visibility?(t(),i("div",Fn,[zn,a("span",null,l(e(V).package),1)])):r("",!0)]),a("div",An,[e(E).discount&&e(k).packagePrice.visibility?(t(),i("span",Rn,l(`${e(V).save} ${e(E).discount}%`),1)):r("",!0),e(k).packagePrice.visibility?(t(),i("span",Mn,l(e(E).price?e(Ke)(e(Vt)(e(E))):e(V).free),1)):r("",!0),e(E).price&&((ae=(B=e(k).tax)==null?void 0:B.visibility)!=null?ae:!0)&&e(yt)(e(u),e(E).id,"package")?(t(),i("span",On,[e(C).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(V).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(V).incl_tax),1)],64))])):r("",!0),a("span",Nn,[J(ze,{type:e(k).bookingBtn.buttonType,onClick:be},{default:O(()=>[me(l(e(V).book_now),1)]),_:1},8,["type"])])])],2),e(k).packageCategory.visibility&&e(p).package.length!==1||e(k).packageDuration.visibility||e(k).packageCapacity.visibility||e(k).packageLocation.visibility&&e(oe).length?(t(),i("div",Vn,[a("div",Un,[e(p).package.length!==1&&e(k).packageBadge.visibility?(t(),i("div",Wn,[jn,a("span",null,l(e(te).name),1)])):r("",!0),e(k).packageDuration.visibility?(t(),i("div",Hn,[qn,e(E).endDate?(t(),i("span",Gn,l(`${e(V).expires_at} ${e(E).endDate.split(" ")[0]}`),1)):e(E).durationCount?(t(),i("span",Jn,l(`${e(V).expires_after} ${e(E).durationCount} ${Ie(e(E).durationCount,e(E).durationType)}`),1)):(t(),i("span",Yn,l(e(V).without_expiration),1))])):r("",!0),e(k).packageCapacity.visibility?(t(),i("div",Qn,Kn)):r("",!0),e(oe).length&&e(k).packageLocation.visibility?(t(),i("div",eo,[to,a("span",null,l(e(oe).length===1?e(oe)[0].address?e(oe)[0].address:e(oe)[0].name:e(V).multiple_locations),1)])):r("",!0)])])):r("",!0)]}),content:O(()=>[e(E).gallery.length?(t(),i("div",ao,[a("div",{class:R(["am-fcip__gallery-hero",[{w100:e(E).gallery.length===1},{"am-mobile w100":e(h)<678}]]),style:re({backgroundImage:`url(${e(E).gallery[0].pictureFullPath})`})},null,6),e(_e).length&&e(h)>677?(t(),i("div",io,[(t(!0),i(X,null,ye(e(_e),(B,ae)=>(t(),i("div",{key:ae,class:R(["am-fcip__gallery-thumb",{"am-one-thumb":e(_e).length===1}]),style:re({backgroundImage:`url(${B.pictureFullPath})`})},null,6))),128))])):r("",!0),J(ze,{"custom-class":`am-fcip__gallery-btn${e(h)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:G[0]||(G[0]=()=>de(N)?N.value=!0:N=!0)},{default:O(()=>[so,a("span",null,l(e(V).view_all_photos),1)]),_:1},8,["custom-class"])])):r("",!0),J(ut,{modelValue:e(N),"onUpdate:modelValue":G[4]||(G[4]=B=>de(N)?N.value=B:N=B),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:re(e(Ee))},[a("div",lo,[a("div",no,[a("span",{class:"am-icon-arrow-left",onClick:G[1]||(G[1]=()=>de(z)?z.value=e(z)<=0?e(E).gallery.length-1:e(z)-1:z=e(z)<=0?e(E).gallery.length-1:e(z)-1)}),a("span",{class:"am-icon-arrow-right",onClick:G[2]||(G[2]=()=>de(z)?z.value=e(E).gallery.length-1===e(z)?0:e(z)+1:z=e(E).gallery.length-1===e(z)?0:e(z)+1)})]),(t(!0),i(X,null,ye(e(E).gallery,(B,ae)=>(t(),i("div",{key:ae,class:"am-gd__display",style:re({display:ae===e(z)?"flex":"none"}),onClick:G[3]||(G[3]=()=>de(z)?z.value=e(E).gallery.length-1===e(z)?0:e(z)+1:z=e(E).gallery.length-1===e(z)?0:e(z)+1)},[a("img",{src:B.pictureFullPath,alt:ae},null,8,oo)],4))),128))]),a("div",co,l(`${e(z)+1}/${e(E).gallery.length}`),1),a("div",ro,[(t(!0),i(X,null,ye(e(E).gallery,(B,ae)=>(t(),i("div",{key:ae,class:R(["am-gd__thumb",{"am-active":ae===e(z)}]),style:re({backgroundImage:`url(${B.pictureFullPath})`}),onClick:()=>de(z)?z.value=ae:z=ae},null,14,uo))),128))])],4)]),_:1},8,["modelValue"]),e(k).packageDescription.visibility&&e(Me)(e(E).description)||e(k).packageEmployees.visibility?(t(),i("div",mo,[a("div",po,[e(Me)(e(E).description)&&e(k).packageDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcip__info-tab",{"am-active":e(o)==="description"}]),onClick:G[5]||(G[5]=()=>de(o)?o.value="description":o="description")},l(e(V).about_package),3)):r("",!0),e(k).packageEmployees.visibility?(t(),i("div",{key:1,class:R([{"am-active":e(o)==="employees"},"am-fcip__info-tab"]),onClick:G[6]||(G[6]=()=>de(o)?o.value="employees":o="employees")},l(e(V).tab_employees),3)):r("",!0)]),a("div",_o,[e(Me)(e(E).description)&&e(k).packageDescription.visibility?St((t(),i("div",vo,[a("div",{class:R(["am-fcip__info-service__desc",{"ql-description":e(E).description.includes("<!-- Content -->")}]),innerHTML:e(E).description},null,10,fo)],512)),[[xt,e(o)==="description"]]):r("",!0),e(k).packageEmployees.visibility?St((t(),i("div",go,[J($t,null,{default:O(()=>[(t(!0),i(X,null,ye(e(H),B=>(t(),he(wt,{key:B.id,side:""},{heading:O(()=>[a("div",yo,[a("div",ho,[J(ct,{"item-class":"am-fcip__info-employee__img","item-data":B,"trim-string":3},null,8,["item-data"]),a("div",bo,[me(l(B.firstName)+" "+l(B.lastName)+" ",1),B.badge?(t(),i("span",{key:0,style:re({background:B.badge.color}),class:"am-fcip__info-employee__badge"},l(B.badge.content),5)):r("",!0)])])])]),default:O(()=>[e(Me)(B.description)?(t(),i("div",{key:0,class:R(["am-fcip__info-employee__description",{"ql-description":B.description.includes("<!-- Content -->")}]),innerHTML:B.description},null,10,ko)):r("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(o)==="employees"]]):r("",!0)])])):r("",!0),e(k).packageServices.visibility?(t(),i("div",Co,[a("div",$o,[a("span",wo,l(`${e(V).package_includes}:`),1)]),J($t,null,{default:O(()=>[(t(!0),i(X,null,ye(e(E).bookable,B=>(t(),he(wt,{key:B.id,side:!0},{heading:O(()=>[a("div",So,[J(ct,{"item-class":"am-fcip__include-service__img","item-data":B.service},null,8,["item-data"]),me(" "+l(B.service.name+(e(E).sharedCapacity?"":" x"+B.quantity)),1)])]),default:O(()=>[a("div",xo,[a("span",null,l(`${e(V).tab_employees}:`),1),(t(!0),i(X,null,ye(fe(B).slice(0,6),ae=>(t(),he(ct,{key:ae.id,"item-class":"am-fcip__include-service__info-name","item-data":ae,"trim-string":3},null,8,["item-data"]))),128)),fe(B).length>6?(t(),i("span",Po," + "+l(fe(B).length-6),1)):r("",!0),e(Me)(B.service.description)?(t(),i("div",{key:1,class:R(["am-fcip__include-service__info-description",{"ql-description":B.service.description.includes("<!-- Content -->")}]),innerHTML:B.service.description},null,10,Io)):r("",!0)])]),_:2},1024))),128))]),_:1}),a("div",Eo,[a("span",Lo,l(e(V).package_book_service),1)])])):r("",!0),J(ut,{modelValue:e(m),"onUpdate:modelValue":G[7]||(G[7]=B=>de(m)?m.value=B:m=B),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ce),onClosed:Be},{default:O(()=>[J(qt)]),_:1},8,["modelValue","width"])]),_:2},[e(p).package.length!==1?{name:"header",fn:O(()=>[J(Ut,{"btn-string":e(V).back_btn,"btn-type":e(k).backBtn.buttonType,onGoBack:Z},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e($e)?(t(),i("div",Do,[a("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,To),a("div",Bo,l(e(V).oops),1),a("div",Fo,l(e(V).no_package_services),1),a("div",zo,[a("a",Ao,l(e(V).add_services_url)+"\xA0 ",1)])],512)):r("",!0)],64))}});const Oo={name:"CatalogSkeleton"},No=Object.assign(Oo,{setup(f){let w=x(null),d=x(0);window.addEventListener("resize",h);function h(){w.value&&(d.value=w.value.offsetWidth)}Ae(()=>{w.value&&(d.value=w.value.offsetWidth)});let C=y(()=>d.value<=500?"am-w100":d.value<=600?"am-w50":d.value<=768?"am-w33":"");return(F,u)=>{const s=Ga,p=qa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:w,class:"am-skeleton-catalog__wrapper"},[J(p,{animated:"",class:"am-skeleton-catalog"},{template:O(()=>[(t(!0),i(X,null,ye(new Array(8),b=>(t(),i("div",{key:b,class:R(["am-skeleton-catalog__item",e(C)])},[J(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Vo=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Uo=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Wo=["href"],jo={name:"CatalogFormWrapper"},Ho=Object.assign(jo,{emits:["isRestored"],setup(f,{emit:w}){let d=A("isMounted"),h=A("licence"),C=x(null),F=x(20);const u=A("baseUrls");let s=x(0);se("containerWidth",s),window.addEventListener("resize",p);function p(){C.value&&(s.value=C.value.offsetWidth)}Ae(()=>{S.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+k.value.counter).classList.add("amelia-v2-booking-"+k.value.counter+"-loaded"),gt(S,{},"ViewContent","appointment",null,null),p(),d.value=!0,ea("scrollForm",{offsetFromTop:F})});let b=x(!1);const L=A("settings"),k=A("shortcodeData"),S=it();S.commit("entities/setPreselected",k.value),S.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:h,loadEntities:k.value.trigger||window.ameliaShortcodeData.filter(j=>!j.hasApiCall).length===window.ameliaShortcodeData.length?!0:k.value.hasApiCall,showHidden:!1});const _=Pe(Di),U=Pe(ml),te=Pe(Dn),E=Pe(Mo);let z=x([_,U]),o=x(0),H=x(null);se("categorySelected",H);let oe=x([]);se("availableCategories",oe);let q=x("");se("itemType",q),Ct(q,()=>{q.value==="appointment"&&z.value.push(te),q.value==="package"&&z.value.push(E),q.value===""&&z.value.forEach((j,le)=>{j.name==="CategoryService"&&fe(z.value,le),j.name==="CategoryPackage"&&fe(z.value,le)})});function fe(j,le){j.splice(le,1)}function $e(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function N(){if(o.value=o.value+1,$e())setTimeout(()=>{let j=C.value.getBoundingClientRect().top+window.pageYOffset-F.value;window.scrollTo({top:j,behavior:"smooth"})},500);else{let j=C.value.getBoundingClientRect().top+window.pageYOffset-F.value;window.scrollTo({top:j,behavior:"smooth"})}}function _e(){o.value=o.value-1}se("changingPageFunctions",{nextPage:N,previousPage:_e});let Z=y(()=>S.getters["entities/getReady"]),m=y(()=>S.state.entities);se("amEntities",m);function ce(){let j=S.getters["entities/getPreselected"];if(k.value.categories_hidden&&j.category.length!==1&&(oe.value=JSON.parse(JSON.stringify(di(m.value,k.value))),H.value=parseInt(oe.value.length?oe.value[0].id:null),S.commit("booking/setCategoryId",parseInt(H.value)),De(()=>{let le=z.value.findIndex(V=>V.name==="CategoriesList");z.value.splice(le,1)})),j.category.length===1&&(S.commit("booking/setCategoryId",parseInt(j.category)),H.value=parseInt(j.category[0]),oe.value=JSON.parse(JSON.stringify(m.value.categories.filter(le=>le.id===parseInt(j.category[0])&&le.status==="visible"&&le.serviceList.length&&!!ht(k,le,m.value).length))),De(()=>{let le=z.value.findIndex(V=>V.name==="CategoriesList");z.value.splice(le,1)})),j.service.length===1){S.commit("booking/setServiceId",parseInt(j.service[0]));let le=S.getters["entities/getService"](parseInt(j.service[0]));H.value=le?parseInt(le.categoryId):null,S.commit("booking/setCategoryId",le?parseInt(le.categoryId):null),De(()=>{z.value=[],z.value.push(te)})}j.employee.length===1&&S.commit("booking/setEmployeeId",parseInt(j.employee[0])),j.location.length===1&&S.commit("booking/setLocationId",parseInt(j.location[0])),j.package.length===1&&(S.commit("booking/setPackageId",parseInt(j.package[0])),z.value=[],z.value.push(E)),j.show==="packages"?S.commit("booking/setBookableType","package"):S.commit("booking/setBookableType","appointment")}let be=y(()=>Z.value?Ya(S,k.value):null);se("restoreFormData",be),Ct(Z,j=>{j&&(ce(),b.value=S.getters["entities/getServices"].length===0||S.getters["entities/getEmployees"].length===0,be.value&&(q.value=S.state.booking.appointment.type,De(()=>{o.value=z.value.length-1,H.value=S.state.booking.appointment.categoryId,w("isRestored",be.value)})))});let ue=y(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf:ot.cbf);se("customizedDataForm",ue);const ge=x(L.customizedData?L.customizedData.fonts:ot.fonts);se("amFonts",ge);let ee=y(()=>L.customizedData&&"cbf"in L.customizedData?L.customizedData.cbf.colors:ot.cbf.colors);se("amColors",ee);let Be=y(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ie(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ie(ee.value.colorMainText,.6),"--am-font-family":ge.value.fontFamily}));function Re(){let j=document.head||document.getElementsByTagName("head")[0];j.querySelector("#amCustomFont")&&j.querySelector("#amCustomFont").remove();let le=`@font-face {font-family: '${ge.value.fontFamily}'; src: url(${ge.value.fontUrl});}`,V=document.createElement("style");j.appendChild(V),V.setAttribute("type","text/css"),V.setAttribute("id","amCustomFont"),V.appendChild(document.createTextNode(le))}ge.value.customFontSelected&&Re();let v=y(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",v),(j,le)=>(t(),i(X,null,[ge.value.customFontSelected?r("",!0):(t(),i(X,{key:0},[Vo,Uo,a("link",{rel:"stylesheet",type:"text/css",href:`${e(u).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Wo)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:re(e(Be))},[e(Z)&&e(z).length?(t(),he(ta(e(z)[e(o)]),{key:0})):(t(),he(No,{key:1}))],4),J(e(Ja))],64))}});var Jo=Object.freeze(Object.defineProperty({__proto__:null,default:Ho},Symbol.toStringTag,{value:"Module"}));export{Jo as C,Pt as _,ci as a,Ut as b,ct as c,Wt as d,Ho as e};
